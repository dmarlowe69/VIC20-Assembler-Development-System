BCROSSREF.ASM......PAGE 0001

LINE# LOC   CODE        LINE































































CROSSREF20......PAGE 0002

LINE# LOC   CODE        LINE


00003  0000              ;*********************************
00004  0000              *=$1201                ;START OF BASIC WITH 32K R
AM EX
00005  1201              ;*********************************
00006  1201              ;
00007  1201              ;         CROSSREF20
00008  1201              ;      CROSSREF.V20 V072882
00009  1201              ; DUMP CROSSREF FROM ASSEMBLER20
00010  1201              ; (C) 1982 BY COMMODORE MACHINES
00011  1201              ;
00012  1201              ;  DOCUMENTED BY DENTON MARLOWE
00013  1201              ;
00014  1201              ;********************************
00015  1201              ;
00016  1201              ; BASIC FORMAT PROGRAM
00017  1201              ;
00018  1201              ; 10 SYS(4623)
00019  1201              ;
00020  1201              ;********************************
00021  1201  0D 12              .WORD BASIC     ;LINE LINK POINTER
00022  1203  0A                 .BYTE $0A,$00   ;LINE NUMBER (10)
00022  1204  00 
00023  1205  9E                 .BYTE $9E       ;SYS COMMAND TOKEN
00024  1206  28 34              .BYTE '(4623)'  ;CALL TO $080F
00025  120C  00                 .BYTE $00       ;END OF LINE
00026  120D  00          BASIC  .BYTE $00,$00   ;END OF BASIC
00026  120E  00 
00027  120F              ;*********************************
00028  120F              ;*=$120F        ;CROSSREF64 ORGIN
00029  120F              ;*********************************
00030  120F              ; MAIN BODY OF CODE
00031  120F              ;*********************************
00032  120F              .FIL   CROSSREF.ASM
00033  120F              ;*********************************
00034  120F              ;
00035  120F              ;         CROSSREF20
00036  120F              ;      CROSSREF.V20 V072882
00037  120F              ; DUMP CROSSREF FROM ASSEMBLER20
00038  120F              ; (C) 1982 BY COMMODORE MACHINES
00039  120F              ;
00040  120F              ;  DOCUMENTED BY DENTON MARLOWE
00041  120F              ;
00042  120F              ;********************************
00043  120F              ; PAGE $0000 EQUATES
00044  120F              ;********************************
00045  120F              ADRAY1=$0003
00046  120F              ADRAY2=$0005
00047  120F              CHARAC=$0007
00048  120F              ENDCHR=$0008
00049  120F              TRMPOS=$0009
00050  120F              VERCK  =$000A
00051  120F              COUNT  =$000B
00052  120F              DIMFLG=$000C
00053  120F              VALTYP=$000D
00054  120F              INTFLG=$000E
00055  120F              GARBFL=$000F






CROSSREF20......PAGE 0003

LINE# LOC   CODE        LINE


00056  120F              SUBFLG=$0010
00057  120F              INPFLG=$0011
00058  120F              TANSGN=$0012
00059  120F              CHANNL=$0013
00060  120F              LINNUM=$0014
00061  120F              TEMPPT=$0016
00062  120F              LASTPT=$0017
00063  120F              TEMPST=$0019
00064  120F              ;********************************
00065  120F              ; POINTERS
00066  120F              ;********************************
00067  120F              XRLPNT = $04
00068  120F              XRFPNT = $06
00069  120F              ;********************************
00070  120F              ; EXTERNAL ADDRESS EQUATES
00071  120F              ;********************************
00072  120F              SCREG=$900F            ;C64 = $D011
00073  120F              ;********************************
00074  120F              ; EXTERNAL ADDRESS EQUATES
00075  120F              ;********************************
00076  120F              BASSFT=$C480           ;C64 = $E386 RETURN TO BAS
IC
00077  120F              PRTCHR=$E742           ;C64 = $E716 PRINT CHAR TO
 SCREEN
00078  120F              ;********************************
00079  120F              ; EXTERNAL ADDRESS EQUATES
00080  120F              ;********************************
00081  120F              SETLFS=$FFBA
00082  120F              SETNAM=$FFBD
00083  120F              OPEN=$FFC0
00084  120F              CLOSE=$FFC3
00085  120F              CHKIN=$FFC6
00086  120F              CHKOUT=$FFC9
00087  120F              CLRCHN=$FFCC
00088  120F              CHRIN=$FFCF
00089  120F              CHROUT=$FFD2
00090  120F              ;*********************************
00091  120F              ;
00092  120F              ; CROSSREF64 ENTRY POINT
00093  120F              ;
00094  120F              ;*********************************
00095  120F  20 94 17    XXREF  JSR SAVZPG
00096  1212  4C 89 12           JMP XX0889
00097  1215              ;********************************
00098  1215              ; ZERO PAGE STORAGE
00099  1215              ;********************************
00100  1215  AA          ZPGSTR .BYTE $AA,$AA,$AA,$AA,$AA,$AA
00100  1216  AA 
00100  1217  AA 
00100  1218  AA 
00100  1219  AA 
00100  121A  AA 
00101  121B  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA
00101  121C  AA 
00101  121D  AA 
00101  121E  AA 
00101  121F  AA 






CROSSREF20......PAGE 0004

LINE# LOC   CODE        LINE


00101  1220  AA 
00102  1221  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA
00102  1222  AA 
00102  1223  AA 
00102  1224  AA 
00102  1225  AA 
00102  1226  AA 
00103  1227  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA
00103  1228  AA 
00103  1229  AA 
00103  122A  AA 
00103  122B  AA 
00103  122C  AA 
00104  122D              ;********************************
00105  122D              ; 
00106  122D              ;********************************
00107  122D  AA          DEVIN  .BYTE $AA       ;XX082D INPUT DEVICE
00108  122E  AA          XX082E .BYTE $AA
00109  122F  AA          XX082F .BYTE $AA
00110  1230  AA          PRTFLG .BYTE $AA       ;XX0830 HARDCOPY FLAG
00111  1231  AA          XX0831 .BYTE $AA
00112  1232  AA          XX0832 .BYTE $AA
00113  1233              ;********************************
00114  1233              ;
00115  1233              ;********************************
00116  1233  AA          XX0833 .BYTE $AA
00117  1234  AA          XX0834 .BYTE $AA
00118  1235  AA                 .BYTE $AA,$AA,$AA,$AA
00118  1236  AA 
00118  1237  AA 
00118  1238  AA 
00119  1239  AA                 .BYTE $AA,$AA,$AA,$AA
00119  123A  AA 
00119  123B  AA 
00119  123C  AA 
00120  123D  AA                 .BYTE $AA,$AA,$AA,$AA
00120  123E  AA 
00120  123F  AA 
00120  1240  AA 
00121  1241              ;********************************
00122  1241              ;
00123  1241              ;********************************
00124  1241  AA          XX0841 .BYTE $AA
00125  1242  AA                 .BYTE $AA,$AA
00125  1243  AA 
00126  1244              ;********************************
00127  1244              ; CROSSREF FILENAME BUFFER
00128  1244              ;********************************
00129  1244  AA          XRFFNM .BYTE $AA       ;XX0844
00130  1245  AA                 .BYTE $AA,$AA,$AA,$AA
00130  1246  AA 
00130  1247  AA 
00130  1248  AA 
00131  1249              ;********************************
00132  1249              ;






CROSSREF20......PAGE 0005

LINE# LOC   CODE        LINE


00133  1249              ;********************************
00134  1249  AA          XX0849 .BYTE $AA
00135  124A  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00135  124B  AA 
00135  124C  AA 
00135  124D  AA 
00135  124E  AA 
00136  124F  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00136  1250  AA 
00136  1251  AA 
00136  1252  AA 
00136  1253  AA 
00137  1254              ;********************************
00138  1254              ;
00139  1254              ;********************************
00140  1254  AA          XX0854 .BYTE $AA
00141  1255  AA          XX0855 .BYTE $AA
00142  1256  AA          XX0856 .BYTE $AA
00143  1257  AA          XX0857 .BYTE $AA
00144  1258              ;********************************
00145  1258              ;
00146  1258              ;********************************
00147  1258  AA          XX0858 .BYTE $AA
00148  1259  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00148  125A  AA 
00148  125B  AA 
00148  125C  AA 
00148  125D  AA 
00149  125E  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00149  125F  AA 
00149  1260  AA 
00149  1261  AA 
00149  1262  AA 
00150  1263  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00150  1264  AA 
00150  1265  AA 
00150  1266  AA 
00150  1267  AA 
00151  1268  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00151  1269  AA 
00151  126A  AA 
00151  126B  AA 
00151  126C  AA 
00152  126D  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00152  126E  AA 
00152  126F  AA 
00152  1270  AA 
00152  1271  AA 
00153  1272  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00153  1273  AA 
00153  1274  AA 
00153  1275  AA 
00153  1276  AA 
00154  1277  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00154  1278  AA 






CROSSREF20......PAGE 0006

LINE# LOC   CODE        LINE


00154  1279  AA 
00154  127A  AA 
00154  127B  AA 
00155  127C  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00155  127D  AA 
00155  127E  AA 
00155  127F  AA 
00155  1280  AA 
00156  1281  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00156  1282  AA 
00156  1283  AA 
00156  1284  AA 
00156  1285  AA 
00157  1286  AA                 .BYTE $AA,$AA,$AA
00157  1287  AA 
00157  1288  AA 
00158  1289              ;********************************
00159  1289              ;
00160  1289              ;********************************
00161  1289  D8          XX0889 CLD 
00162  128A  A9 00              LDA #$00
00163  128C  8D 33 12           STA XX0833
00164  128F  8D 31 12           STA XX0831
00165  1292  8D 32 12           STA XX0832
00166  1295  EE 31 12           INC XX0831
00167  1298  8D 2D 12           STA DEVIN
00168  129B  85 18              STA $18
00169  129D  85 19              STA $19
00170  129F              ;********************************
00171  129F              ; OPEN I/O TO KEYBOARD
00172  129F              ;********************************
00173  129F  A9 05              LDA #$05
00174  12A1  A2 00              LDX #$00
00175  12A3  A0 FF              LDY #$FF
00176  12A5  20 BA FF           JSR SETLFS
00177  12A8  A9 00              LDA #$00
00178  12AA  20 BD FF           JSR SETNAM
00179  12AD  20 C0 FF           JSR OPEN
00180  12B0              ;********************************
00181  12B0              ; OPEN I/O TO SCREEN
00182  12B0              ;********************************
00183  12B0  A9 01              LDA #$01
00184  12B2  A2 03              LDX #$03
00185  12B4  A0 FF              LDY #$FF
00186  12B6  20 BA FF           JSR SETLFS
00187  12B9  A9 00              LDA #$00
00188  12BB  20 BD FF           JSR SETNAM
00189  12BE  20 C0 FF           JSR OPEN
00190  12C1              ;********************************
00191  12C1              ;
00192  12C1              ;********************************
00193  12C1  A9 93              LDA #$93        ;SCREEN CLEAR
00194  12C3  20 D2 FF           JSR CHROUT
00195  12C6              ;********************************
00196  12C6              ; SET INPUT CHANNEL TO KEYBOARD






CROSSREF20......PAGE 0007

LINE# LOC   CODE        LINE


00197  12C6              ;********************************
00198  12C6  A2 05              LDX #$05
00199  12C8  8E 2D 12           STX DEVIN
00200  12CB  20 C6 FF           JSR CHKIN
00201  12CE              ;********************************
00202  12CE              ; PROMPT FOR HARDCOPY
00203  12CE              ;********************************
00204  12CE  A9 17              LDA #>MESSG     ;$0D
00205  12D0  A0 13              LDY #<MESSG     ;$13
00206  12D2  20 7E 16           JSR XX0C7E
00207  12D5              ;********************************
00208  12D5              ; GET RESPONSE
00209  12D5              ;********************************
00210  12D5  20 CF FF           JSR CHRIN
00211  12D8  A2 00              LDX #$00
00212  12DA  8E 30 12           STX PRTFLG
00213  12DD  C9 4E              CMP #$4E        ;'N'
00214  12DF  F0 02              BEQ XX08E3
00215  12E1  A2 80              LDX #$80
00216  12E3              ;********************************
00217  12E3              ;
00218  12E3              ;********************************
00219  12E3  8E 30 12    XX08E3 STX PRTFLG
00220  12E6              ;********************************
00221  12E6              ; OPEN I/O TO PRINTER
00222  12E6              ;********************************
00223  12E6  A9 04              LDA #$04
00224  12E8  AA                 TAX 
00225  12E9  A0 FF              LDY #$FF
00226  12EB  20 BA FF           JSR SETLFS
00227  12EE  A9 00              LDA #$00
00228  12F0  20 BD FF           JSR SETNAM
00229  12F3  20 C0 FF           JSR OPEN
00230  12F6              ;********************************
00231  12F6              ;
00232  12F6              ;********************************
00233  12F6  20 7D 17           JSR SCROFF
00234  12F9  A9 0D              LDA #$0D
00235  12FB  20 D2 FF           JSR CHROUT
00236  12FE              ;********************************
00237  12FE              ; OPEN I/O TO DISK STATUS
00238  12FE              ;********************************
00239  12FE  A9 07              LDA #$07
00240  1300  A2 08              LDX #$08
00241  1302  A0 0F              LDY #$0F
00242  1304  20 BA FF           JSR SETLFS
00243  1307              ;********************************
00244  1307              ; FILENAME = 'I0' FOR INIT DRIVE
00245  1307              ;********************************
00246  1307  A9 49              LDA #$49        ;'I'
00247  1309  8D 57 12           STA XX0857
00248  130C  A9 30              LDA #$30        ;'0'
00249  130E  8D 58 12           STA XX0858
00250  1311              ;
00251  1311  A2 57              LDX #<XX0857    ;#$57      ;'W'






CROSSREF20......PAGE 0008

LINE# LOC   CODE        LINE


00252  1313  A0 12              LDY #>XX0857    ;#$08
00253  1315  A9 02              LDA #$02
00254  1317  20 BD FF           JSR SETNAM
00255  131A              ;
00256  131A  20 C0 FF           JSR OPEN
00257  131D              ;********************************
00258  131D              ;
00259  131D              ;********************************
00260  131D  A9 00              LDA #$00
00261  131F  A0 02              LDY #$02
00262  1321  8D 2E 12           STA XX082E
00263  1324  8C 2F 12           STY XX082F
00264  1327              ;********************************
00265  1327              ; LOAD FILENAME BUFFER FROM MASTER
00266  1327              ; 0:XRFF0000,S,W
00267  1327              ;********************************
00268  1327  A0 00              LDY #$00
00269  1329  B9 4B 17    XX0929 LDA XRFF00,Y    ;XX0D4B
00270  132C  99 44 12           STA XRFFNM,Y    ;XX0844
00271  132F  C8                 INY 
00272  1330  C0 0E              CPY #$0E
00273  1332  D0 F5              BNE XX0929
00274  1334  20 E4 16           JSR XX0CE4
00275  1337              ;********************************
00276  1337              ; CLEAR I/O CHANNEL
00277  1337              ;********************************
00278  1337  20 CC FF           JSR CLRCHN
00279  133A              ;********************************
00280  133A              ; OPEN CROSS REFERNCE FILE
00281  133A              ;********************************
00282  133A  A9 08              LDA #$08
00283  133C  AA                 TAX 
00284  133D  A8                 TAY 
00285  133E  20 BA FF           JSR SETLFS
00286  1341  A2 3D              LDX #<XRLL00    ;$3D
00287  1343  A0 17              LDY #>XRLL00    ;$0D
00288  1345  A9 0E              LDA #$0E        ;14 CHARS
00289  1347  20 BD FF           JSR SETNAM
00290  134A  20 C0 FF           JSR OPEN
00291  134D              ;********************************
00292  134D              ;
00293  134D              ;********************************
00294  134D  20 25 16           JSR XX0C25
00295  1350  A5 18       XX0950 LDA $18
00296  1352  A4 19              LDY $19
00297  1354  85 16              STA $16
00298  1356  84 17              STY $17
00299  1358  18                 CLC 
00300  1359  A5 16              LDA $16
00301  135B  6D 2E 12           ADC XX082E
00302  135E  85 18              STA $18
00303  1360  A5 17              LDA $17
00304  1362  6D 2F 12           ADC XX082F
00305  1365  85 19              STA $19
00306  1367              ;






CROSSREF20......PAGE 0009

LINE# LOC   CODE        LINE


00307  1367  A9 AA              LDA #<XX0DAA    ;#$AA
00308  1369  A0 17              LDY #>XX0DAA    ;#$0D
00309  136B  85 04              STA XRLPNT
00310  136D  84 05              STY XRLPNT+1
00311  136F              ;
00312  136F  A9 AA              LDA #<XX15AA    ;#$AA
00313  1371  A0 1F              LDY #>XX15AA    ;#$15
00314  1373  85 06              STA XRFPNT
00315  1375  84 07              STY XRFPNT+1
00316  1377              ;
00317  1377  A5 04              LDA XRLPNT
00318  1379  A4 05              LDY XRLPNT+1
00319  137B  85 0C              STA $0C
00320  137D  84 0D              STY $0D
00321  137F  A0 00              LDY #$00
00322  1381  98          XX0981 TYA 
00323  1382  91 0C              STA ($0C),Y
00324  1384  E6 0C              INC $0C
00325  1386  D0 02              BNE XX098A
00326  1388  E6 0D              INC $0D
00327  138A  A5 0D       XX098A LDA $0D
00328  138C  C5 07              CMP XRFPNT+1
00329  138E  D0 F1              BNE XX0981
00330  1390  A5 0C              LDA $0C
00331  1392  C5 06              CMP XRFPNT
00332  1394  D0 EB              BNE XX0981
00333  1396  A0 0D              LDY #$0D
00334  1398  B9 44 12    XX0998 LDA XRFFNM,Y
00335  139B  99 34 12           STA XX0834,Y
00336  139E  88                 DEY 
00337  139F  10 F7              BPL XX0998
00338  13A1  A9 52              LDA #$52        ;'R'
00339  13A3  8D 41 12           STA XX0841
00340  13A6  A2 04              LDX #$04
00341  13A8  FE 49 12    XX09A8 INC XX0849,X
00342  13AB  BD 49 12           LDA XX0849,X
00343  13AE  C9 3A              CMP #$3A        ;':'
00344  13B0  D0 08              BNE XX09BA
00345  13B2  A9 30              LDA #$30        ;'0'
00346  13B4  9D 49 12           STA XX0849,X
00347  13B7  CA                 DEX 
00348  13B8  D0 EE              BNE XX09A8
00349  13BA              ;
00350  13BA  A9 09       XX09BA LDA #$09
00351  13BC  A2 08              LDX #$08
00352  13BE  A8                 TAY 
00353  13BF  20 BA FF           JSR SETLFS
00354  13C2  A2 34              LDX #<XX0834    ;#$34      ;'4'
00355  13C4  A0 12              LDY #>XX0834    ;#$08
00356  13C6  A9 0E              LDA #$0E
00357  13C8  20 BD FF           JSR SETNAM
00358  13CB  20 C0 FF           JSR OPEN
00359  13CE  20 25 16           JSR XX0C25
00360  13D1              ;
00361  13D1  A9 0A              LDA #$0A






CROSSREF20......PAGE 0010

LINE# LOC   CODE        LINE


00362  13D3  A2 08              LDX #$08
00363  13D5  A8                 TAY 
00364  13D6  20 BA FF           JSR SETLFS
00365  13D9  A2 44              LDX #<XRFFNM    ;#$44      ;'D'
00366  13DB  A0 12              LDY #>XRFFNM    ;#$08
00367  13DD  A9 0E              LDA #$0E
00368  13DF  20 BD FF           JSR SETNAM
00369  13E2  20 C0 FF           JSR OPEN
00370  13E5  20 25 16           JSR XX0C25
00371  13E8              ;
00372  13E8  A9 00              LDA #$00
00373  13EA  85 15              STA $15
00374  13EC  A2 09       XX09EC LDX #$09
00375  13EE  EC 2D 12           CPX DEVIN
00376  13F1  F0 0B              BEQ XX09FE
00377  13F3  8E 2D 12           STX DEVIN
00378  13F6  20 CC FF           JSR CLRCHN
00379  13F9              ;
00380  13F9  A2 09              LDX #$09
00381  13FB  20 C6 FF           JSR CHKIN
00382  13FE              ;
00383  13FE  20 CF FF    XX09FE JSR CHRIN
00384  1401  85 08              STA $08
00385  1403  20 CF FF           JSR CHRIN
00386  1406  85 09              STA $09
00387  1408  20 CF FF           JSR CHRIN
00388  140B  85 0A              STA $0A
00389  140D  20 CF FF           JSR CHRIN
00390  1410              ;
00391  1410  85 0B              STA $0B
00392  1412  A5 90              LDA $90
00393  1414  85 15              STA $15
00394  1416  38                 SEC 
00395  1417  A5 08              LDA $08
00396  1419  E5 16              SBC $16
00397  141B  A5 09              LDA $09
00398  141D  E5 17              SBC $17
00399  141F  90 0A              BCC XX0A2B
00400  1421  A5 08              LDA $08
00401  1423  E5 18              SBC $18
00402  1425  A5 09              LDA $09
00403  1427  E5 19              SBC $19
00404  1429  90 22              BCC XX0A4D
00405  142B              ;
00406  142B  20 CC FF    XX0A2B JSR CLRCHN
00407  142E  A2 0A              LDX #$0A
00408  1430  8E 2D 12           STX DEVIN
00409  1433  20 C9 FF           JSR CHKOUT
00410  1436              ;
00411  1436  A5 08              LDA $08
00412  1438  20 D2 FF           JSR CHROUT
00413  143B  A5 09              LDA $09
00414  143D  20 D2 FF           JSR CHROUT
00415  1440  A5 0A              LDA $0A
00416  1442  20 D2 FF           JSR CHROUT






CROSSREF20......PAGE 0011

LINE# LOC   CODE        LINE


00417  1445  A5 0B              LDA $0B
00418  1447  20 D2 FF           JSR CHROUT
00419  144A  4C BB 14           JMP XX0ABB
00420  144D              ;********************************
00421  144D              ;
00422  144D              ;********************************
00423  144D  38          XX0A4D SEC 
00424  144E  A5 08              LDA $08
00425  1450  E5 16              SBC $16
00426  1452  85 0C              STA $0C
00427  1454  A5 09              LDA $09
00428  1456  E5 17              SBC $17
00429  1458  06 0C              ASL $0C
00430  145A  2A                 ROL A
00431  145B  06 0C              ASL $0C
00432  145D  2A                 ROL A
00433  145E  85 0D              STA $0D
00434  1460  18                 CLC 
00435  1461  A5 0C              LDA $0C
00436  1463  65 04              ADC XRLPNT
00437  1465  85 0C              STA $0C
00438  1467  A5 0D              LDA $0D
00439  1469  65 05              ADC XRLPNT+1
00440  146B  85 0D              STA $0D
00441  146D  A0 01              LDY #$01
00442  146F  B1 0C              LDA ($0C),Y
00443  1471  D0 16              BNE XX0A89
00444  1473  88                 DEY 
00445  1474  A5 06              LDA XRFPNT
00446  1476  91 0C              STA ($0C),Y
00447  1478  C8                 INY 
00448  1479  A5 07              LDA XRFPNT+1
00449  147B  91 0C              STA ($0C),Y
00450  147D  C8                 INY 
00451  147E  A5 06              LDA XRFPNT
00452  1480  91 0C              STA ($0C),Y
00453  1482  C8                 INY 
00454  1483  A5 07              LDA XRFPNT+1
00455  1485  91 0C              STA ($0C),Y
00456  1487  D0 17              BNE XX0AA0
00457  1489  88          XX0A89 DEY 
00458  148A  B1 0C              LDA ($0C),Y
00459  148C  85 0E              STA $0E
00460  148E  C8                 INY 
00461  148F  B1 0C              LDA ($0C),Y
00462  1491  85 0F              STA $0F
00463  1493  A5 07              LDA XRFPNT+1
00464  1495  91 0C              STA ($0C),Y
00465  1497  91 0E              STA ($0E),Y
00466  1499  88                 DEY 
00467  149A  A5 06              LDA XRFPNT
00468  149C  91 0C              STA ($0C),Y
00469  149E  91 0E              STA ($0E),Y
00470  14A0  A0 01       XX0AA0 LDY #$01
00471  14A2  A9 00              LDA #$00






CROSSREF20......PAGE 0012

LINE# LOC   CODE        LINE


00472  14A4  91 06              STA (XRFPNT),Y
00473  14A6  C8                 INY 
00474  14A7  A5 0A              LDA $0A
00475  14A9  91 06              STA (XRFPNT),Y
00476  14AB  C8                 INY 
00477  14AC  A5 0B              LDA $0B
00478  14AE  91 06              STA (XRFPNT),Y
00479  14B0  18                 CLC 
00480  14B1  A5 06              LDA XRFPNT
00481  14B3  69 04              ADC #$04
00482  14B5  85 06              STA XRFPNT
00483  14B7  90 02              BCC XX0ABB
00484  14B9  E6 07              INC XRFPNT+1
00485  14BB  A5 15       XX0ABB LDA $15
00486  14BD  D0 03              BNE XX0AC2
00487  14BF  4C EC 13           JMP XX09EC
00488  14C2              ;********************************
00489  14C2              ;
00490  14C2              ;********************************
00491  14C2  A9 09       XX0AC2 LDA #$09
00492  14C4  20 C3 FF           JSR CLOSE
00493  14C7  A9 0A              LDA #$0A
00494  14C9  20 C3 FF           JSR CLOSE
00495  14CC              ;********************************
00496  14CC              ;
00497  14CC              ;********************************
00498  14CC  A0 01       XX0ACC LDY #$01
00499  14CE  B1 04              LDA (XRLPNT),Y
00500  14D0  A0 03              LDY #$03
00501  14D2  D1 04              CMP (XRLPNT),Y
00502  14D4  D0 0E              BNE XX0AE4
00503  14D6  A0 00              LDY #$00
00504  14D8  B1 04              LDA (XRLPNT),Y
00505  14DA  A0 02              LDY #$02
00506  14DC  D1 04              CMP (XRLPNT),Y
00507  14DE  D0 04              BNE XX0AE4
00508  14E0  A9 2A              LDA #$2A        ;'*'
00509  14E2  D0 02              BNE XX0AE6
00510  14E4  A9 20       XX0AE4 LDA #$20        ;' '
00511  14E6  20 F8 15    XX0AE6 JSR PCHAR
00512  14E9  20 F6 15           JSR XX0BF6
00513  14EC  A0 06              LDY #$06
00514  14EE  20 8C 15    XX0AEE JSR XX0B8C
00515  14F1  20 F8 15           JSR PCHAR
00516  14F4  88                 DEY 
00517  14F5  D0 F7              BNE XX0AEE
00518  14F7  20 F6 15           JSR XX0BF6
00519  14FA  A9 24              LDA #$24        ;'$'
00520  14FC  20 F8 15           JSR PCHAR
00521  14FF  20 8C 15           JSR XX0B8C
00522  1502  20 A9 16           JSR XX0CA9
00523  1505  20 8C 15           JSR XX0B8C
00524  1508  A6 90              LDX $90
00525  150A  86 14              STX $14
00526  150C  20 A9 16           JSR XX0CA9






CROSSREF20......PAGE 0013

LINE# LOC   CODE        LINE


00527  150F  A0 02              LDY #$02
00528  1511  B1 04              LDA (XRLPNT),Y
00529  1513  AA                 TAX 
00530  1514  C8                 INY 
00531  1515  B1 04              LDA (XRLPNT),Y
00532  1517  86 0C              STX $0C
00533  1519  85 0D              STA $0D
00534  151B  D0 2C              BNE XX0B49
00535  151D  20 F6 15    XX0B1D JSR XX0BF6
00536  1520  A0 02              LDY #$02
00537  1522  B1 0C              LDA ($0C),Y
00538  1524  AA                 TAX 
00539  1525  C8                 INY 
00540  1526  B1 0C              LDA ($0C),Y
00541  1528  20 A1 15           JSR XX0BA1
00542  152B  A0 01              LDY #$01
00543  152D  B1 0C              LDA ($0C),Y
00544  152F  AA                 TAX 
00545  1530  F0 1E              BEQ XX0B50
00546  1532  88                 DEY 
00547  1533  B1 0C              LDA ($0C),Y
00548  1535  85 0C              STA $0C
00549  1537  86 0D              STX $0D
00550  1539  CE 54 12           DEC XX0854
00551  153C  D0 DF              BNE XX0B1D
00552  153E  20 D4 16           JSR XX0CD4
00553  1541  A2 07              LDX #$07
00554  1543  20 F3 15    XX0B43 JSR XX0BF3
00555  1546  CA                 DEX 
00556  1547  D0 FA              BNE XX0B43
00557  1549  A0 0A       XX0B49 LDY #$0A
00558  154B  8C 54 12           STY XX0854
00559  154E  D0 CD              BNE XX0B1D
00560  1550  20 D4 16    XX0B50 JSR XX0CD4
00561  1553  A5 14              LDA $14
00562  1555  D0 1F              BNE XX0B76
00563  1557  18                 CLC 
00564  1558  A5 04              LDA XRLPNT
00565  155A  69 04              ADC #$04
00566  155C  85 04              STA XRLPNT
00567  155E  90 02              BCC XX0B62
00568  1560  E6 05              INC XRLPNT+1
00569  1562  38          XX0B62 SEC 
00570  1563  A5 04              LDA XRLPNT
00571  1565  E9 AA              SBC #<XX15AA    ;#$AA
00572  1567  A5 05              LDA XRLPNT+1
00573  1569  E9 1F              SBC #>XX15AA    ;#$15
00574  156B  B0 03              BCS XX0B70
00575  156D  4C CC 14           JMP XX0ACC
00576  1570              ;********************************
00577  1570              ;
00578  1570              ;********************************
00579  1570  20 CC FF    XX0B70 JSR CLRCHN
00580  1573  4C 50 13           JMP XX0950
00581  1576              ;********************************






CROSSREF20......PAGE 0014

LINE# LOC   CODE        LINE


00582  1576              ;
00583  1576              ;********************************
00584  1576  20 C1 16    XX0B76 JSR XX0CC1
00585  1579  20 C1 16           JSR XX0CC1
00586  157C  A9 04              LDA #$04
00587  157E  20 C3 FF           JSR CLOSE
00588  1581  A9 08              LDA #$08
00589  1583  20 C3 FF           JSR CLOSE
00590  1586  20 CC FF           JSR CLRCHN
00591  1589  4C 75 16           JMP XX0C75
00592  158C              ;********************************
00593  158C              ; SET INPUT TO CHANNEL 8 AND READ IN CHAR
00594  158C              ;********************************
00595  158C  A2 08       XX0B8C LDX #$08
00596  158E  EC 2D 12           CPX DEVIN
00597  1591  F0 0B              BEQ XX0B9E
00598  1593  8E 2D 12           STX DEVIN
00599  1596  20 CC FF           JSR CLRCHN
00600  1599  A2 08              LDX #$08
00601  159B  20 C6 FF           JSR CHKIN
00602  159E  4C CF FF    XX0B9E JMP CHRIN
00603  15A1              ;********************************
00604  15A1              ;
00605  15A1              ;********************************
00606  15A1  86 10       XX0BA1 STX $10
00607  15A3  85 11              STA $11
00608  15A5  A9 00              LDA #$00
00609  15A7  8D 55 12           STA XX0855
00610  15AA  A2 04              LDX #$04
00611  15AC  8E 56 12           STX XX0856
00612  15AF  AE 56 12    XX0BAF LDX XX0856
00613  15B2  A0 30              LDY #$30        ;'0'
00614  15B4  D0 04              BNE XX0BBA
00615  15B6  C8          XX0BB6 INY 
00616  15B7  8C 55 12           STY XX0855
00617  15BA  38          XX0BBA SEC 
00618  15BB  A5 10              LDA $10
00619  15BD  FD 73 17           SBC XX0D73,X
00620  15C0  85 10              STA $10
00621  15C2  A5 11              LDA $11
00622  15C4  FD 78 17           SBC XX0D78,X
00623  15C7  85 11              STA $11
00624  15C9  B0 EB              BCS XX0BB6
00625  15CB  A5 10              LDA $10
00626  15CD  7D 73 17           ADC XX0D73,X
00627  15D0  85 10              STA $10
00628  15D2  A5 11              LDA $11
00629  15D4  7D 78 17           ADC XX0D78,X
00630  15D7  85 11              STA $11
00631  15D9  98                 TYA 
00632  15DA  C9 30              CMP #$30        ;'0'
00633  15DC  D0 07              BNE XX0BE5
00634  15DE  AC 55 12           LDY XX0855
00635  15E1  D0 02              BNE XX0BE5
00636  15E3  A9 20              LDA #$20        ;' '






CROSSREF20......PAGE 0015

LINE# LOC   CODE        LINE


00637  15E5  20 F8 15    XX0BE5 JSR PCHAR
00638  15E8  CE 56 12           DEC XX0856
00639  15EB  10 C2              BPL XX0BAF
00640  15ED  60                 RTS 
00641  15EE              ;********************************
00642  15EE              ; OUTPUT CR
00643  15EE              ;********************************
00644  15EE  A9 0D       PRTCR  LDA #$0D
00645  15F0  4C F8 15           JMP PCHAR
00646  15F3              ;********************************
00647  15F3              ;
00648  15F3              ;********************************
00649  15F3  20 F6 15    XX0BF3 JSR XX0BF6
00650  15F6  A9 20       XX0BF6 LDA #$20        ;' '
00651  15F8              ;********************************
00652  15F8              ; OUTPUT CHAR TO SCREEN OR PRINTER
00653  15F8              ;********************************
00654  15F8  86 12       PCHAR  STX $12
00655  15FA  84 13              STY $13
00656  15FC  48                 PHA 
00657  15FD  2C 30 12           BIT PRTFLG
00658  1600  10 1A              BPL XX0C1C
00659  1602  AD 2D 12           LDA DEVIN
00660  1605  C9 04              CMP #$04
00661  1607  F0 0B              BEQ XX0C14
00662  1609  20 CC FF           JSR CLRCHN
00663  160C  A2 04              LDX #$04
00664  160E  8E 2D 12           STX DEVIN
00665  1611  20 C9 FF           JSR CHKOUT
00666  1614  68          XX0C14 PLA 
00667  1615  48                 PHA 
00668  1616  20 D2 FF           JSR CHROUT
00669  1619  4C 1F 16           JMP XX0C1F
00670  161C              ;********************************
00671  161C              ; PRINT CHAR TO SCREEN
00672  161C              ;********************************
00673  161C  20 42 E7    XX0C1C JSR PRTCHR
00674  161F              ;********************************
00675  161F              ; RESTORE A,X AND Y
00676  161F              ;********************************
00677  161F  68          XX0C1F PLA 
00678  1620  A4 13              LDY $13
00679  1622  A6 12              LDX $12
00680  1624  60                 RTS 
00681  1625              ;********************************
00682  1625              ; DISK I/O ERROR
00683  1625              ;********************************
00684  1625  20 CC FF    XX0C25 JSR CLRCHN
00685  1628  A2 07              LDX #$07
00686  162A  8E 2D 12           STX DEVIN
00687  162D  20 C6 FF           JSR CHKIN
00688  1630  20 CF FF           JSR CHRIN
00689  1633  85 02              STA $02
00690  1635  20 CF FF           JSR CHRIN
00691  1638  85 03              STA $03






CROSSREF20......PAGE 0016

LINE# LOC   CODE        LINE


00692  163A  C9 30              CMP #$30        ;'0'
00693  163C  D0 0E              BNE XX0C4C
00694  163E  A5 02              LDA $02
00695  1640  C9 30              CMP #$30        ;'0'
00696  1642  D0 08              BNE XX0C4C
00697  1644  20 CF FF    XX0C44 JSR CHRIN
00698  1647  C9 0D              CMP #$0D
00699  1649  D0 F9              BNE XX0C44
00700  164B  60                 RTS 
00701  164C              ;********************************
00702  164C              ; PRINT DISK ERROR
00703  164C              ;********************************
00704  164C  A2 01       XX0C4C LDX #$01
00705  164E  B5 02       XX0C4E LDA $02,X
00706  1650  9D 57 12           STA XX0857,X
00707  1653  CA                 DEX 
00708  1654  10 F8              BPL XX0C4E
00709  1656  A0 02              LDY #$02
00710  1658  84 13       XX0C58 STY $13
00711  165A  20 CF FF           JSR CHRIN
00712  165D  C9 0D              CMP #$0D
00713  165F  F0 08              BEQ XX0C69
00714  1661  A4 13              LDY $13
00715  1663  99 57 12           STA XX0857,Y
00716  1666  C8                 INY 
00717  1667  D0 EF              BNE XX0C58
00718  1669  A9 8D       XX0C69 LDA #$8D
00719  166B  99 57 12           STA XX0857,Y
00720  166E  A9 12              LDA #>XX0857    ;#$08
00721  1670  A0 57              LDY #<XX0857    ;#$57      ;'W'
00722  1672  20 7E 16           JSR XX0C7E
00723  1675  20 8B 17    XX0C75 JSR SCRON
00724  1678  20 9F 17           JSR RETZPG
00725  167B  4C 80 C4           JMP BASSFT
00726  167E              ;********************************
00727  167E              ;
00728  167E              ;********************************
00729  167E  48          XX0C7E PHA 
00730  167F  A9 01              LDA #$01
00731  1681  CD 2D 12           CMP DEVIN
00732  1684  F0 0F              BEQ XX0C95
00733  1686  98                 TYA 
00734  1687  48                 PHA 
00735  1688  20 CC FF           JSR CLRCHN
00736  168B  A2 01              LDX #$01
00737  168D  8E 2D 12           STX DEVIN
00738  1690  20 C9 FF           JSR CHKOUT
00739  1693  68                 PLA 
00740  1694  A8                 TAY 
00741  1695              ;********************************
00742  1695              ; OUTPUT STRING
00743  1695              ; HIGH BYTE ADDRESS IN A
00744  1695              ; LOW BYTE ADDRESS IN Y
00745  1695              ;********************************
00746  1695  68          XX0C95 PLA 






CROSSREF20......PAGE 0017

LINE# LOC   CODE        LINE


00747  1696  85 11              STA $11
00748  1698  84 10              STY $10
00749  169A  A0 00              LDY #$00
00750  169C  B1 10       XX0C9C LDA ($10),Y
00751  169E  C8                 INY 
00752  169F  48                 PHA 
00753  16A0  29 7F              AND #$7F
00754  16A2  20 D2 FF           JSR CHROUT
00755  16A5  68                 PLA 
00756  16A6  10 F4              BPL XX0C9C
00757  16A8  60                 RTS 
00758  16A9              ;********************************
00759  16A9              ;
00760  16A9              ;********************************
00761  16A9  48          XX0CA9 PHA 
00762  16AA  4A                 LSR A
00763  16AB  4A                 LSR A
00764  16AC  4A                 LSR A
00765  16AD  4A                 LSR A
00766  16AE  20 B4 16           JSR XX0CB4
00767  16B1  68                 PLA 
00768  16B2  29 0F              AND #$0F
00769  16B4  18          XX0CB4 CLC 
00770  16B5  69 30              ADC #$30        ;'0'
00771  16B7  C9 3A              CMP #$3A        ;':'
00772  16B9  30 03              BMI XX0CBE
00773  16BB  18                 CLC 
00774  16BC  69 07              ADC #$07
00775  16BE  4C F8 15    XX0CBE JMP PCHAR
00776  16C1              ;********************************
00777  16C1              ;
00778  16C1              ;********************************
00779  16C1  20 EE 15    XX0CC1 JSR PRTCR
00780  16C4  EE 33 12           INC XX0833
00781  16C7  AD 33 12           LDA XX0833
00782  16CA  C9 42              CMP #$42        ;'B'
00783  16CC  D0 F3              BNE XX0CC1
00784  16CE  A9 00              LDA #$00
00785  16D0  8D 33 12           STA XX0833
00786  16D3  60                 RTS 
00787  16D4              ;********************************
00788  16D4              ;
00789  16D4              ;********************************
00790  16D4  20 EE 15    XX0CD4 JSR PRTCR
00791  16D7  EE 33 12           INC XX0833
00792  16DA  AD 33 12           LDA XX0833
00793  16DD  C9 3C              CMP #$3C        ;'<'
00794  16DF  D0 31              BNE XX0D12
00795  16E1  20 C1 16           JSR XX0CC1
00796  16E4  20 D4 16    XX0CE4 JSR XX0CD4
00797  16E7  8A                 TXA 
00798  16E8  48                 PHA 
00799  16E9              ;********************************
00800  16E9              ; PRINT PAGE BANNER
00801  16E9              ;********************************






CROSSREF20......PAGE 0018

LINE# LOC   CODE        LINE


00802  16E9  A2 00              LDX #$00
00803  16EB  BD 59 17    XX0CEB LDA BANNER,X
00804  16EE  F0 06              BEQ XX0CF6      ; ZERO BYTE END OF STRING
00805  16F0  20 F8 15           JSR PCHAR
00806  16F3  E8                 INX             ; INC CHAR POINTER
00807  16F4  D0 F5              BNE XX0CEB
00808  16F6              ;
00809  16F6  AE 31 12    XX0CF6 LDX XX0831
00810  16F9  AD 32 12           LDA XX0832
00811  16FC  20 A1 15           JSR XX0BA1
00812  16FF  EE 31 12           INC XX0831
00813  1702  D0 03              BNE XX0D07
00814  1704  EE 32 12           INC XX0832
00815  1707  20 D4 16    XX0D07 JSR XX0CD4
00816  170A  20 D4 16           JSR XX0CD4
00817  170D  20 D4 16           JSR XX0CD4
00818  1710  68                 PLA 
00819  1711  AA                 TAX 
00820  1712  60          XX0D12 RTS 
00821  1713              ;********************************
00822  1713              ;
00823  1713              ;********************************
00824  1713              ;XX0D13
00825  1713  0D          MESSG  .BYTE $0D
00826  1714  43 52       XX0D14 .BYTE 'CROSS REFERENCE'
00827  1723  0D          XX0D23 .BYTE $0D
00828  1724  0D          XX0D24 .BYTE $0D
00829  1725  0D          XX0D25 .BYTE $0D
00830  1726  48 41       XX0D26 .BYTE 'HARD COPY (CR/Y OR N)?'
00831  173C              ;********************************
00832  173C              ;
00833  173C              ;********************************
00834  173C  A0          XX0D3C .BYTE $A0
00835  173D              ;********************************
00836  173D              ; CROSSREF FILE MASTER NAME
00837  173D              ;********************************
00838  173D  30 3A       XRLL00 .BYTE '0:XRLL0000,S,R' ;XX0D3D
00839  174B              ;********************************
00840  174B              ; CROSSREF FILE MASTER NAME
00841  174B              ;********************************
00842  174B  30 3A       XRFF00 .BYTE '0:XRFF0000,S,W' ;XX0D4B
00843  1759              ;********************************
00844  1759              ;
00845  1759              ;********************************
00846  1759  43 52       BANNER .BYTE 'CROSS REFERENCE......PAGE'
00847  1772  00                 .BYTE $00
00848  1773              ;********************************
00849  1773              ; LOW BYTE 10'S DIGIT
00850  1773              ; $0001 = 1
00851  1773              ; $000A = 10
00852  1773              ; $0064 = 100
00853  1773              ; $03E8 = 1000
00854  1773              ; $2710 = 10000
00855  1773              ;********************************
00856  1773  01          XX0D73 .BYTE $01       ;1






CROSSREF20......PAGE 0019

LINE# LOC   CODE        LINE


00857  1774  0A                 .BYTE $0A       ;10
00858  1775  64                 .BYTE $64       ;100
00859  1776  E8                 .BYTE $E8       ;1000
00860  1777  10                 .BYTE $10       ;10000
00861  1778              ;********************************
00862  1778              ; HIGH BYTE 10'S DIGIT
00863  1778              ;********************************
00864  1778  00          XX0D78 .BYTE $00       ;1
00865  1779  00                 .BYTE $00       ;10
00866  177A  00                 .BYTE $00       ;100
00867  177B  03                 .BYTE $03       ;1000
00868  177C  27                 .BYTE $27       ;10000
00869  177D              ;********************************
00870  177D              ; IF PRINTING, TURN SCREEN OFF
00871  177D              ;********************************
00872  177D  AD 30 12    SCROFF LDA PRTFLG
00873  1780  10 08              BPL XX0D8A
00874  1782  AD 0F 90           LDA SCREG
00875  1785  29 EF              AND #$EF
00876  1787  8D 0F 90           STA SCREG
00877  178A  60          XX0D8A RTS 
00878  178B              ;********************************
00879  178B              ; TURN SCREEN ON
00880  178B              ;********************************
00881  178B  AD 0F 90    SCRON  LDA SCREG
00882  178E  09 10              ORA #$10
00883  1790  8D 0F 90           STA SCREG
00884  1793  60                 RTS 
00885  1794              ;********************************
00886  1794              ; SAVE ZEROPAGE FROM $02-$1A
00887  1794              ;********************************
00888  1794  A2 18       SAVZPG LDX #$18
00889  1796  B5 02       XX0D96 LDA $02,X
00890  1798  9D 15 12           STA ZPGSTR,X
00891  179B  CA                 DEX 
00892  179C  10 F8              BPL XX0D96
00893  179E  60                 RTS 
00894  179F              ;********************************
00895  179F              ; RESTORE ZEROPAGE FROM $02-$1A
00896  179F              ;********************************
00897  179F  A2 18       RETZPG LDX #$18
00898  17A1  BD 15 12    XX0DA1 LDA ZPGSTR,X
00899  17A4  95 02              STA $02,X
00900  17A6  CA                 DEX 
00901  17A7  10 F8              BPL XX0DA1
00902  17A9  60                 RTS 
00903  17AA              ;********************************
00904  17AA              ;
00905  17AA              ;********************************
00906  17AA              XX0DAA=*
00907  17AA              ;********************************
00908  17AA              ;
00909  17AA              ;********************************
00910  17AA              *=*+$0800
00911  1FAA              ;********************************






CROSSREF20......PAGE 0020

LINE# LOC   CODE        LINE


00912  1FAA              ;
00913  1FAA              ;********************************
00914  1FAA              XX15AA=*
00915  1FAA              ;********************************
00916  1FAA              .END



ERRORS = 00000
LY
 ADRAY1   0003    ADRAY2   0005    BANNER   1759    BASIC    120D
 BASSFT   C480    CHANNL   0013    CHARAC   0007    CHKIN    FFC6
 CHKOUT   FFC9    CHRIN    FFCF    CHROUT   FFD2    CLOSE    FFC3
 CLRCHN   FFCC    COUNT    000B    DEVIN    122D    DIMFLG   000C
 ENDCHR   0008    GARBFL   000F    INPFLG   0011    INTFLG   000E
 LASTPT   0017    LINNUM   0014    MESSG    1713    OPEN     FFC0
 PCHAR    15F8    PRTCHR   E742    PRTCR    15EE    PRTFLG   1230
 RETZPG   179F    SAVZPG   1794    SCREG    900F    SCROFF   177D
 SCRON    178B    SETLFS   FFBA    SETNAM   FFBD    SUBFLG   0010
 TANSGN   0012    TEMPPT   0016    TEMPST   0019    TRMPOS   0009
 VALTYP   000D    VERCK    000A    XRFF00   174B    XRFFNM   1244
 XRFPNT   0006    XRLL00   173D    XRLPNT   0004    XX082E   122E
 XX082F   122F    XX0831   1231    XX0832   1232    XX0833   1233
 XX0834   1234    XX0841   1241    XX0849   1249    XX0854   1254
 XX0855   1255    XX0856   1256    XX0857   1257    XX0858   1258
 XX0889   1289    XX08E3   12E3    XX0929   1329    XX0950   1350
 XX0981   1381    XX098A   138A    XX0998   1398    XX09A8   13A8
 XX09BA   13BA    XX09EC   13EC    XX09FE   13FE    XX0A2B   142B
 XX0A4D   144D    XX0A89   1489    XX0AA0   14A0    XX0ABB   14BB
 XX0AC2   14C2    XX0ACC   14CC    XX0AE4   14E4    XX0AE6   14E6
 XX0AEE   14EE    XX0B1D   151D    XX0B43   1543    XX0B49   1549
 XX0B50   1550    XX0B62   1562    XX0B70   1570    XX0B76   1576
 XX0B8C   158C    XX0B9E   159E    XX0BA1   15A1    XX0BAF   15AF
 XX0BB6   15B6    XX0BBA   15BA    XX0BE5   15E5    XX0BF3   15F3
 XX0BF6   15F6    XX0C14   1614    XX0C1C   161C    XX0C1F   161F
 XX0C25   1625    XX0C44   1644    XX0C4C   164C    XX0C4E   164E
 XX0C58   1658    XX0C69   1669    XX0C75   1675    XX0C7E   167E
 XX0C95   1695    XX0C9C   169C    XX0CA9   16A9    XX0CB4   16B4
 XX0CBE   16BE    XX0CC1   16C1    XX0CD4   16D4    XX0CE4   16E4
 XX0CEB   16EB    XX0CF6   16F6    XX0D07   1707    XX0D12   1712
 XX0D14   1714    XX0D23   1723    XX0D24   1724    XX0D25   1725
 XX0D26   1726    XX0D3C   173C    XX0D73   1773    XX0D78   1778
 XX0D8A   178A    XX0D96   1796    XX0DA1   17A1    XX0DAA   17AA
 XX15AA   1FAA    XXREF    120F    ZPGSTR   1215   


BCROSSREFNL.ASM......PAGE 0001

LINE# LOC   CODE        LINE































































CROSSREF20......PAGE 0002

LINE# LOC   CODE        LINE


00032  120F              .FIL   CROSSREF.ASM

ERRORS = 00000
LY
 ADRAY1   0003    ADRAY2   0005    BANNER   1759    BASIC    120D
 BASSFT   C480    CHANNL   0013    CHARAC   0007    CHKIN    FFC6
 CHKOUT   FFC9    CHRIN    FFCF    CHROUT   FFD2    CLOSE    FFC3
 CLRCHN   FFCC    COUNT    000B    DEVIN    122D    DIMFLG   000C
 ENDCHR   0008    GARBFL   000F    INPFLG   0011    INTFLG   000E
 LASTPT   0017    LINNUM   0014    MESSG    1713    OPEN     FFC0
 PCHAR    15F8    PRTCHR   E742    PRTCR    15EE    PRTFLG   1230
 RETZPG   179F    SAVZPG   1794    SCREG    900F    SCROFF   177D
 SCRON    178B    SETLFS   FFBA    SETNAM   FFBD    SUBFLG   0010
 TANSGN   0012    TEMPPT   0016    TEMPST   0019    TRMPOS   0009
 VALTYP   000D    VERCK    000A    XRFF00   174B    XRFFNM   1244
 XRFPNT   0006    XRLL00   173D    XRLPNT   0004    XX082E   122E
 XX082F   122F    XX0831   1231    XX0832   1232    XX0833   1233
 XX0834   1234    XX0841   1241    XX0849   1249    XX0854   1254
 XX0855   1255    XX0856   1256    XX0857   1257    XX0858   1258
 XX0889   1289    XX08E3   12E3    XX0929   1329    XX0950   1350
 XX0981   1381    XX098A   138A    XX0998   1398    XX09A8   13A8
 XX09BA   13BA    XX09EC   13EC    XX09FE   13FE    XX0A2B   142B
 XX0A4D   144D    XX0A89   1489    XX0AA0   14A0    XX0ABB   14BB
 XX0AC2   14C2    XX0ACC   14CC    XX0AE4   14E4    XX0AE6   14E6
 XX0AEE   14EE    XX0B1D   151D    XX0B43   1543    XX0B49   1549
 XX0B50   1550    XX0B62   1562    XX0B70   1570    XX0B76   1576
 XX0B8C   158C    XX0B9E   159E    XX0BA1   15A1    XX0BAF   15AF
 XX0BB6   15B6    XX0BBA   15BA    XX0BE5   15E5    XX0BF3   15F3
 XX0BF6   15F6    XX0C14   1614    XX0C1C   161C    XX0C1F   161F
 XX0C25   1625    XX0C44   1644    XX0C4C   164C    XX0C4E   164E
 XX0C58   1658    XX0C69   1669    XX0C75   1675    XX0C7E   167E
 XX0C95   1695    XX0C9C   169C    XX0CA9   16A9    XX0CB4   16B4
 XX0CBE   16BE    XX0CC1   16C1    XX0CD4   16D4    XX0CE4   16E4
 XX0CEB   16EB    XX0CF6   16F6    XX0D07   1707    XX0D12   1712
 XX0D14   1714    XX0D23   1723    XX0D24   1724    XX0D25   1725
 XX0D26   1726    XX0D3C   173C    XX0D73   1773    XX0D78   1778
 XX0D8A   178A    XX0D96   1796    XX0DA1   17A1    XX0DAA   17AA
 XX15AA   1FAA    XXREF    120F    ZPGSTR   1215   



CROSS REFERENCE......PAGE    1


* ADRAY1 $0003    45
* ADRAY2 $0005    46
  BANNER $1759   803   846
  BASIC  $120D    21    26
  BASSFT $C480    76   725
* CHANNL $0013    59
* CHARAC $0007    47
  CHKIN  $FFC6    85   200   381   601   687
  CHKOUT $FFC9    86   409   665   738
  CHRIN  $FFCF    88   210   383   385   387   389   602   688   690   697

                 711
  CHROUT $FFD2    89   194   235   412   414   416   418   668   754
  CLOSE  $FFC3    84   492   494   587   589
  CLRCHN $FFCC    87   278   378   406   579   590   599   662   684   735

* COUNT  $000B    51
  DEVIN  $122D   107   167   199   375   377   408   596   598   659   664

                 686   731   737
* DIMFLG $000C    52
* ENDCHR $0008    48
* GARBFL $000F    55
* INPFLG $0011    57
* INTFLG $000E    54
* LASTPT $0017    62
* LINNUM $0014    60
  MESSG  $1713   204   205   825
  OPEN   $FFC0    83   179   189   229   256   290   358   369
  PCHAR  $15F8   511   515   520   637   645   654   775   805
  PRTCHR $E742    77   673
  PRTCR  $15EE   644   779   790
  PRTFLG $1230   110   212   219   657   872
  RETZPG $179F   724   897
  SAVZPG $1794    95   888
  SCREG  $900F    72   874   876   881   883
  SCROFF $177D   233   872
  SCRON  $178B   723   881
  SETLFS $FFBA    81   176   186   226   242   285   353   364
  SETNAM $FFBD    82   178   188   228   254   289   357   368
* SUBFLG $0010    56
* TANSGN $0012    58
* TEMPPT $0016    61
* TEMPST $0019    63
* TRMPOS $0009    49
* VALTYP $000D    53
* VERCK  $000A    50
  XRFF00 $174B   269   842
  XRFFNM $1244   129   270   334   365   366
  XRFPNT $0006    68   314   315   328   331   445   448   451   454   463

                 467   472   475   478   480   482   484
  XRLL00 $173D   286   287   838
  XRLPNT $0004    67   309   310   317   318   436   439   499   501   504

                 506   528   531   564   566   568   570   572
  XX082E $122E   108   262   301
  XX082F $122F   109   263   304
  XX0831 $1231   111   164   166   809   812
  XX0832 $1232   112   165   810   814
  XX0833 $1233   116   163   780   781   785   791   792







CROSS REFERENCE......PAGE    2


  XX0834 $1234   117   335   354   355
  XX0841 $1241   124   339
  XX0849 $1249   134   341   342   346
  XX0854 $1254   140   550   558
  XX0855 $1255   141   609   616   634
  XX0856 $1256   142   611   612   638
  XX0857 $1257   143   247   251   252   706   715   719   720   721
  XX0858 $1258   147   249
  XX0889 $1289    96   161
  XX08E3 $12E3   214   219
  XX0929 $1329   269   273
  XX0950 $1350   295   580
  XX0981 $1381   322   329   332
  XX098A $138A   325   327
  XX0998 $1398   334   337
  XX09A8 $13A8   341   348
  XX09BA $13BA   344   350
  XX09EC $13EC   374   487
  XX09FE $13FE   376   383
  XX0A2B $142B   399   406
  XX0A4D $144D   404   423
  XX0A89 $1489   443   457
  XX0AA0 $14A0   456   470
  XX0ABB $14BB   419   483   485
  XX0AC2 $14C2   486   491
  XX0ACC $14CC   498   575
  XX0AE4 $14E4   502   507   510
  XX0AE6 $14E6   509   511
  XX0AEE $14EE   514   517
  XX0B1D $151D   535   551   559
  XX0B43 $1543   554   556
  XX0B49 $1549   534   557
  XX0B50 $1550   545   560
  XX0B62 $1562   567   569
  XX0B70 $1570   574   579
  XX0B76 $1576   562   584
  XX0B8C $158C   514   521   523   595
  XX0B9E $159E   597   602
  XX0BA1 $15A1   541   606   811
  XX0BAF $15AF   612   639
  XX0BB6 $15B6   615   624
  XX0BBA $15BA   614   617
  XX0BE5 $15E5   633   635   637
  XX0BF3 $15F3   554   649
  XX0BF6 $15F6   512   518   535   649   650
  XX0C14 $1614   661   666
  XX0C1C $161C   658   673
  XX0C1F $161F   669   677
  XX0C25 $1625   294   359   370   684
  XX0C44 $1644   697   699
  XX0C4C $164C   693   696   704
  XX0C4E $164E   705   708
  XX0C58 $1658   710   717
  XX0C69 $1669   713   718
  XX0C75 $1675   591   723
  XX0C7E $167E   206   722   729







CROSS REFERENCE......PAGE    3


  XX0C95 $1695   732   746
  XX0C9C $169C   750   756
  XX0CA9 $16A9   522   526   761
  XX0CB4 $16B4   766   769
  XX0CBE $16BE   772   775
  XX0CC1 $16C1   584   585   779   783   795
  XX0CD4 $16D4   552   560   790   796   815   816   817
  XX0CE4 $16E4   274   796
  XX0CEB $16EB   803   807
  XX0CF6 $16F6   804   809
  XX0D07 $1707   813   815
  XX0D12 $1712   794   820
* XX0D14 $1714   826
* XX0D23 $1723   827
* XX0D24 $1724   828
* XX0D25 $1725   829
* XX0D26 $1726   830
* XX0D3C $173C   834
  XX0D73 $1773   619   626   856
  XX0D78 $1778   622   629   864
  XX0D8A $178A   873   877
  XX0D96 $1796   889   892
  XX0DA1 $17A1   898   901
  XX0DAA $17AA   307   308   906
  XX15AA $1FAA   312   313   571   573   914
* XXREF  $120F    95
  ZPGSTR $1215   100   890   898





































































































BCROSSREF.ASM......PAGE 0001

LINE# LOC   CODE        LINE































































CROSSREF20......PAGE 0002

LINE# LOC   CODE        LINE


00003  0000              ;*********************************
00004  0000              *=$1201                ;START OF BASIC WITH 32K R
AM EX
00005  1201              ;*********************************
00006  1201              ;
00007  1201              ;         CROSSREF20
00008  1201              ;      CROSSREF.V20 V072882
00009  1201              ; DUMP CROSSREF FROM ASSEMBLER20
00010  1201              ; (C) 1982 BY COMMODORE MACHINES
00011  1201              ;
00012  1201              ;  DOCUMENTED BY DENTON MARLOWE
00013  1201              ;
00014  1201              ;********************************
00015  1201              ;
00016  1201              ; BASIC FORMAT PROGRAM
00017  1201              ;
00018  1201              ; 10 SYS(4623)
00019  1201              ;
00020  1201              ;********************************
00021  1201  0D 12              .WORD BASIC     ;LINE LINK POINTER
00022  1203  0A                 .BYTE $0A,$00   ;LINE NUMBER (10)
00022  1204  00 
00023  1205  9E                 .BYTE $9E       ;SYS COMMAND TOKEN
00024  1206  28 34              .BYTE '(4623)'  ;CALL TO $080F
00025  120C  00                 .BYTE $00       ;END OF LINE
00026  120D  00          BASIC  .BYTE $00,$00   ;END OF BASIC
00026  120E  00 
00027  120F              ;*********************************
00028  120F              ;*=$120F        ;CROSSREF64 ORGIN
00029  120F              ;*********************************
00030  120F              ; MAIN BODY OF CODE
00031  120F              ;*********************************
00032  120F              .FIL   CROSSREF.ASM
00033  120F              ;*********************************
00034  120F              ;
00035  120F              ;         CROSSREF20
00036  120F              ;      CROSSREF.V20 V072882
00037  120F              ; DUMP CROSSREF FROM ASSEMBLER20
00038  120F              ; (C) 1982 BY COMMODORE MACHINES
00039  120F              ;
00040  120F              ;  DOCUMENTED BY DENTON MARLOWE
00041  120F              ;
00042  120F              ;********************************
00043  120F              ; PAGE $0000 EQUATES
00044  120F              ;********************************
00045  120F              ADRAY1=$0003
00046  120F              ADRAY2=$0005
00047  120F              CHARAC=$0007
00048  120F              ENDCHR=$0008
00049  120F              TRMPOS=$0009
00050  120F              VERCK  =$000A
00051  120F              COUNT  =$000B
00052  120F              DIMFLG=$000C
00053  120F              VALTYP=$000D
00054  120F              INTFLG=$000E
00055  120F              GARBFL=$000F






CROSSREF20......PAGE 0003

LINE# LOC   CODE        LINE


00056  120F              SUBFLG=$0010
00057  120F              INPFLG=$0011
00058  120F              TANSGN=$0012
00059  120F              CHANNL=$0013
00060  120F              LINNUM=$0014
00061  120F              TEMPPT=$0016
00062  120F              LASTPT=$0017
00063  120F              TEMPST=$0019
00064  120F              ;********************************
00065  120F              ; POINTERS
00066  120F              ;********************************
00067  120F              XRLPNT = $04
00068  120F              XRFPNT = $06
00069  120F              ;********************************
00070  120F              ; EXTERNAL ADDRESS EQUATES
00071  120F              ;********************************
00072  120F              SCREG=$900F            ;C64 = $D011
00073  120F              ;********************************
00074  120F              ; EXTERNAL ADDRESS EQUATES
00075  120F              ;********************************
00076  120F              BASSFT=$C474           ;$C480 ;C64 = $E386 RETURN
 TO BASIC
00077  120F              PRTCHR=$E742           ;C64 = $E716 PRINT CHAR TO
 SCREEN
00078  120F              ;********************************
00079  120F              ; EXTERNAL ADDRESS EQUATES
00080  120F              ;********************************
00081  120F              SETLFS=$FFBA
00082  120F              SETNAM=$FFBD
00083  120F              OPEN=$FFC0
00084  120F              CLOSE=$FFC3
00085  120F              CHKIN=$FFC6
00086  120F              CHKOUT=$FFC9
00087  120F              CLRCHN=$FFCC
00088  120F              CHRIN=$FFCF
00089  120F              CHROUT=$FFD2
00090  120F              ;*********************************
00091  120F              ;
00092  120F              ; CROSSREF64 ENTRY POINT
00093  120F              ;
00094  120F              ;*********************************
00095  120F  20 94 17    XXREF  JSR SAVZPG
00096  1212  4C 89 12           JMP XX0889
00097  1215              ;********************************
00098  1215              ; ZERO PAGE STORAGE
00099  1215              ;********************************
00100  1215  AA          ZPGSTR .BYTE $AA,$AA,$AA,$AA,$AA,$AA
00100  1216  AA 
00100  1217  AA 
00100  1218  AA 
00100  1219  AA 
00100  121A  AA 
00101  121B  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA
00101  121C  AA 
00101  121D  AA 
00101  121E  AA 
00101  121F  AA 






CROSSREF20......PAGE 0004

LINE# LOC   CODE        LINE


00101  1220  AA 
00102  1221  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA
00102  1222  AA 
00102  1223  AA 
00102  1224  AA 
00102  1225  AA 
00102  1226  AA 
00103  1227  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA
00103  1228  AA 
00103  1229  AA 
00103  122A  AA 
00103  122B  AA 
00103  122C  AA 
00104  122D              ;********************************
00105  122D              ; 
00106  122D              ;********************************
00107  122D  AA          DEVIN  .BYTE $AA       ;XX082D INPUT DEVICE
00108  122E  AA          XX082E .BYTE $AA
00109  122F  AA          XX082F .BYTE $AA
00110  1230  AA          PRTFLG .BYTE $AA       ;XX0830 HARDCOPY FLAG
00111  1231  AA          XX0831 .BYTE $AA
00112  1232  AA          XX0832 .BYTE $AA
00113  1233              ;********************************
00114  1233              ;
00115  1233              ;********************************
00116  1233  AA          XX0833 .BYTE $AA
00117  1234  AA          XX0834 .BYTE $AA
00118  1235  AA                 .BYTE $AA,$AA,$AA,$AA
00118  1236  AA 
00118  1237  AA 
00118  1238  AA 
00119  1239  AA                 .BYTE $AA,$AA,$AA,$AA
00119  123A  AA 
00119  123B  AA 
00119  123C  AA 
00120  123D  AA                 .BYTE $AA,$AA,$AA,$AA
00120  123E  AA 
00120  123F  AA 
00120  1240  AA 
00121  1241              ;********************************
00122  1241              ;
00123  1241              ;********************************
00124  1241  AA          XX0841 .BYTE $AA
00125  1242  AA                 .BYTE $AA,$AA
00125  1243  AA 
00126  1244              ;********************************
00127  1244              ; CROSSREF FILENAME BUFFER
00128  1244              ;********************************
00129  1244  AA          XRFFNM .BYTE $AA       ;XX0844
00130  1245  AA                 .BYTE $AA,$AA,$AA,$AA
00130  1246  AA 
00130  1247  AA 
00130  1248  AA 
00131  1249              ;********************************
00132  1249              ;






CROSSREF20......PAGE 0005

LINE# LOC   CODE        LINE


00133  1249              ;********************************
00134  1249  AA          XX0849 .BYTE $AA
00135  124A  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00135  124B  AA 
00135  124C  AA 
00135  124D  AA 
00135  124E  AA 
00136  124F  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00136  1250  AA 
00136  1251  AA 
00136  1252  AA 
00136  1253  AA 
00137  1254              ;********************************
00138  1254              ;
00139  1254              ;********************************
00140  1254  AA          XX0854 .BYTE $AA
00141  1255  AA          XX0855 .BYTE $AA
00142  1256  AA          XX0856 .BYTE $AA
00143  1257  AA          XX0857 .BYTE $AA
00144  1258              ;********************************
00145  1258              ;
00146  1258              ;********************************
00147  1258  AA          XX0858 .BYTE $AA
00148  1259  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00148  125A  AA 
00148  125B  AA 
00148  125C  AA 
00148  125D  AA 
00149  125E  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00149  125F  AA 
00149  1260  AA 
00149  1261  AA 
00149  1262  AA 
00150  1263  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00150  1264  AA 
00150  1265  AA 
00150  1266  AA 
00150  1267  AA 
00151  1268  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00151  1269  AA 
00151  126A  AA 
00151  126B  AA 
00151  126C  AA 
00152  126D  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00152  126E  AA 
00152  126F  AA 
00152  1270  AA 
00152  1271  AA 
00153  1272  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00153  1273  AA 
00153  1274  AA 
00153  1275  AA 
00153  1276  AA 
00154  1277  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00154  1278  AA 






CROSSREF20......PAGE 0006

LINE# LOC   CODE        LINE


00154  1279  AA 
00154  127A  AA 
00154  127B  AA 
00155  127C  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00155  127D  AA 
00155  127E  AA 
00155  127F  AA 
00155  1280  AA 
00156  1281  AA                 .BYTE $AA,$AA,$AA,$AA,$AA
00156  1282  AA 
00156  1283  AA 
00156  1284  AA 
00156  1285  AA 
00157  1286  AA                 .BYTE $AA,$AA,$AA
00157  1287  AA 
00157  1288  AA 
00158  1289              ;********************************
00159  1289              ;
00160  1289              ;********************************
00161  1289  D8          XX0889 CLD 
00162  128A  A9 00              LDA #$00
00163  128C  8D 33 12           STA XX0833
00164  128F  8D 31 12           STA XX0831
00165  1292  8D 32 12           STA XX0832
00166  1295  EE 31 12           INC XX0831
00167  1298  8D 2D 12           STA DEVIN
00168  129B  85 18              STA $18
00169  129D  85 19              STA $19
00170  129F              ;********************************
00171  129F              ; OPEN I/O TO KEYBOARD
00172  129F              ;********************************
00173  129F  A9 05              LDA #$05
00174  12A1  A2 00              LDX #$00
00175  12A3  A0 FF              LDY #$FF
00176  12A5  20 BA FF           JSR SETLFS
00177  12A8  A9 00              LDA #$00
00178  12AA  20 BD FF           JSR SETNAM
00179  12AD  20 C0 FF           JSR OPEN
00180  12B0              ;********************************
00181  12B0              ; OPEN I/O TO SCREEN
00182  12B0              ;********************************
00183  12B0  A9 01              LDA #$01
00184  12B2  A2 03              LDX #$03
00185  12B4  A0 FF              LDY #$FF
00186  12B6  20 BA FF           JSR SETLFS
00187  12B9  A9 00              LDA #$00
00188  12BB  20 BD FF           JSR SETNAM
00189  12BE  20 C0 FF           JSR OPEN
00190  12C1              ;********************************
00191  12C1              ;
00192  12C1              ;********************************
00193  12C1  A9 93              LDA #$93        ;SCREEN CLEAR
00194  12C3  20 D2 FF           JSR CHROUT
00195  12C6              ;********************************
00196  12C6              ; SET INPUT CHANNEL TO KEYBOARD






CROSSREF20......PAGE 0007

LINE# LOC   CODE        LINE


00197  12C6              ;********************************
00198  12C6  A2 05              LDX #$05
00199  12C8  8E 2D 12           STX DEVIN
00200  12CB  20 C6 FF           JSR CHKIN
00201  12CE              ;********************************
00202  12CE              ; PROMPT FOR HARDCOPY
00203  12CE              ;********************************
00204  12CE  A9 17              LDA #>MESSG     ;$0D
00205  12D0  A0 13              LDY #<MESSG     ;$13
00206  12D2  20 7E 16           JSR XX0C7E
00207  12D5              ;********************************
00208  12D5              ; GET RESPONSE
00209  12D5              ;********************************
00210  12D5  20 CF FF           JSR CHRIN
00211  12D8  A2 00              LDX #$00
00212  12DA  8E 30 12           STX PRTFLG
00213  12DD  C9 4E              CMP #$4E        ;'N'
00214  12DF  F0 02              BEQ XX08E3
00215  12E1  A2 80              LDX #$80
00216  12E3              ;********************************
00217  12E3              ;
00218  12E3              ;********************************
00219  12E3  8E 30 12    XX08E3 STX PRTFLG
00220  12E6              ;********************************
00221  12E6              ; OPEN I/O TO PRINTER
00222  12E6              ;********************************
00223  12E6  A9 04              LDA #$04
00224  12E8  AA                 TAX 
00225  12E9  A0 FF              LDY #$FF
00226  12EB  20 BA FF           JSR SETLFS
00227  12EE  A9 00              LDA #$00
00228  12F0  20 BD FF           JSR SETNAM
00229  12F3  20 C0 FF           JSR OPEN
00230  12F6              ;********************************
00231  12F6              ;
00232  12F6              ;********************************
00233  12F6  20 7D 17           JSR SCROFF
00234  12F9  A9 0D              LDA #$0D
00235  12FB  20 D2 FF           JSR CHROUT
00236  12FE              ;********************************
00237  12FE              ; OPEN I/O TO DISK STATUS
00238  12FE              ;********************************
00239  12FE  A9 07              LDA #$07
00240  1300  A2 08              LDX #$08
00241  1302  A0 0F              LDY #$0F
00242  1304  20 BA FF           JSR SETLFS
00243  1307              ;********************************
00244  1307              ; FILENAME = 'I0' FOR INIT DRIVE
00245  1307              ;********************************
00246  1307  A9 49              LDA #$49        ;'I'
00247  1309  8D 57 12           STA XX0857
00248  130C  A9 30              LDA #$30        ;'0'
00249  130E  8D 58 12           STA XX0858
00250  1311              ;
00251  1311  A2 57              LDX #<XX0857    ;#$57      ;'W'






CROSSREF20......PAGE 0008

LINE# LOC   CODE        LINE


00252  1313  A0 12              LDY #>XX0857    ;#$08
00253  1315  A9 02              LDA #$02
00254  1317  20 BD FF           JSR SETNAM
00255  131A              ;
00256  131A  20 C0 FF           JSR OPEN
00257  131D              ;********************************
00258  131D              ;
00259  131D              ;********************************
00260  131D  A9 00              LDA #$00
00261  131F  A0 02              LDY #$02
00262  1321  8D 2E 12           STA XX082E
00263  1324  8C 2F 12           STY XX082F
00264  1327              ;********************************
00265  1327              ; LOAD FILENAME BUFFER FROM MASTER
00266  1327              ; 0:XRFF0000,S,W
00267  1327              ;********************************
00268  1327  A0 00              LDY #$00
00269  1329  B9 4B 17    XX0929 LDA XRFF00,Y    ;XX0D4B
00270  132C  99 44 12           STA XRFFNM,Y    ;XX0844
00271  132F  C8                 INY 
00272  1330  C0 0E              CPY #$0E
00273  1332  D0 F5              BNE XX0929
00274  1334  20 E4 16           JSR XX0CE4
00275  1337              ;********************************
00276  1337              ; CLEAR I/O CHANNEL
00277  1337              ;********************************
00278  1337  20 CC FF           JSR CLRCHN
00279  133A              ;********************************
00280  133A              ; OPEN CROSS REFERNCE FILE
00281  133A              ;********************************
00282  133A  A9 08              LDA #$08
00283  133C  AA                 TAX 
00284  133D  A8                 TAY 
00285  133E  20 BA FF           JSR SETLFS
00286  1341  A2 3D              LDX #<XRLL00    ;$3D
00287  1343  A0 17              LDY #>XRLL00    ;$0D
00288  1345  A9 0E              LDA #$0E        ;14 CHARS
00289  1347  20 BD FF           JSR SETNAM
00290  134A  20 C0 FF           JSR OPEN
00291  134D              ;********************************
00292  134D              ;
00293  134D              ;********************************
00294  134D  20 25 16           JSR XX0C25
00295  1350  A5 18       XX0950 LDA $18
00296  1352  A4 19              LDY $19
00297  1354  85 16              STA $16
00298  1356  84 17              STY $17
00299  1358  18                 CLC 
00300  1359  A5 16              LDA $16
00301  135B  6D 2E 12           ADC XX082E
00302  135E  85 18              STA $18
00303  1360  A5 17              LDA $17
00304  1362  6D 2F 12           ADC XX082F
00305  1365  85 19              STA $19
00306  1367              ;






CROSSREF20......PAGE 0009

LINE# LOC   CODE        LINE


00307  1367  A9 AA              LDA #<XX0DAA    ;#$AA
00308  1369  A0 17              LDY #>XX0DAA    ;#$0D
00309  136B  85 04              STA XRLPNT
00310  136D  84 05              STY XRLPNT+1
00311  136F              ;
00312  136F  A9 AA              LDA #<XX15AA    ;#$AA
00313  1371  A0 1F              LDY #>XX15AA    ;#$15
00314  1373  85 06              STA XRFPNT
00315  1375  84 07              STY XRFPNT+1
00316  1377              ;
00317  1377  A5 04              LDA XRLPNT
00318  1379  A4 05              LDY XRLPNT+1
00319  137B  85 0C              STA $0C
00320  137D  84 0D              STY $0D
00321  137F  A0 00              LDY #$00
00322  1381  98          XX0981 TYA 
00323  1382  91 0C              STA ($0C),Y
00324  1384  E6 0C              INC $0C
00325  1386  D0 02              BNE XX098A
00326  1388  E6 0D              INC $0D
00327  138A  A5 0D       XX098A LDA $0D
00328  138C  C5 07              CMP XRFPNT+1
00329  138E  D0 F1              BNE XX0981
00330  1390  A5 0C              LDA $0C
00331  1392  C5 06              CMP XRFPNT
00332  1394  D0 EB              BNE XX0981
00333  1396  A0 0D              LDY #$0D
00334  1398  B9 44 12    XX0998 LDA XRFFNM,Y
00335  139B  99 34 12           STA XX0834,Y
00336  139E  88                 DEY 
00337  139F  10 F7              BPL XX0998
00338  13A1  A9 52              LDA #$52        ;'R'
00339  13A3  8D 41 12           STA XX0841
00340  13A6  A2 04              LDX #$04
00341  13A8  FE 49 12    XX09A8 INC XX0849,X
00342  13AB  BD 49 12           LDA XX0849,X
00343  13AE  C9 3A              CMP #$3A        ;':'
00344  13B0  D0 08              BNE XX09BA
00345  13B2  A9 30              LDA #$30        ;'0'
00346  13B4  9D 49 12           STA XX0849,X
00347  13B7  CA                 DEX 
00348  13B8  D0 EE              BNE XX09A8
00349  13BA              ;
00350  13BA  A9 09       XX09BA LDA #$09
00351  13BC  A2 08              LDX #$08
00352  13BE  A8                 TAY 
00353  13BF  20 BA FF           JSR SETLFS
00354  13C2  A2 34              LDX #<XX0834    ;#$34      ;'4'
00355  13C4  A0 12              LDY #>XX0834    ;#$08
00356  13C6  A9 0E              LDA #$0E
00357  13C8  20 BD FF           JSR SETNAM
00358  13CB  20 C0 FF           JSR OPEN
00359  13CE  20 25 16           JSR XX0C25
00360  13D1              ;
00361  13D1  A9 0A              LDA #$0A






CROSSREF20......PAGE 0010

LINE# LOC   CODE        LINE


00362  13D3  A2 08              LDX #$08
00363  13D5  A8                 TAY 
00364  13D6  20 BA FF           JSR SETLFS
00365  13D9  A2 44              LDX #<XRFFNM    ;#$44      ;'D'
00366  13DB  A0 12              LDY #>XRFFNM    ;#$08
00367  13DD  A9 0E              LDA #$0E
00368  13DF  20 BD FF           JSR SETNAM
00369  13E2  20 C0 FF           JSR OPEN
00370  13E5  20 25 16           JSR XX0C25
00371  13E8              ;
00372  13E8  A9 00              LDA #$00
00373  13EA  85 15              STA $15
00374  13EC  A2 09       XX09EC LDX #$09
00375  13EE  EC 2D 12           CPX DEVIN
00376  13F1  F0 0B              BEQ XX09FE
00377  13F3  8E 2D 12           STX DEVIN
00378  13F6  20 CC FF           JSR CLRCHN
00379  13F9              ;
00380  13F9  A2 09              LDX #$09
00381  13FB  20 C6 FF           JSR CHKIN
00382  13FE              ;
00383  13FE  20 CF FF    XX09FE JSR CHRIN
00384  1401  85 08              STA $08
00385  1403  20 CF FF           JSR CHRIN
00386  1406  85 09              STA $09
00387  1408  20 CF FF           JSR CHRIN
00388  140B  85 0A              STA $0A
00389  140D  20 CF FF           JSR CHRIN
00390  1410              ;
00391  1410  85 0B              STA $0B
00392  1412  A5 90              LDA $90
00393  1414  85 15              STA $15
00394  1416  38                 SEC 
00395  1417  A5 08              LDA $08
00396  1419  E5 16              SBC $16
00397  141B  A5 09              LDA $09
00398  141D  E5 17              SBC $17
00399  141F  90 0A              BCC XX0A2B
00400  1421  A5 08              LDA $08
00401  1423  E5 18              SBC $18
00402  1425  A5 09              LDA $09
00403  1427  E5 19              SBC $19
00404  1429  90 22              BCC XX0A4D
00405  142B              ;
00406  142B  20 CC FF    XX0A2B JSR CLRCHN
00407  142E  A2 0A              LDX #$0A
00408  1430  8E 2D 12           STX DEVIN
00409  1433  20 C9 FF           JSR CHKOUT
00410  1436              ;
00411  1436  A5 08              LDA $08
00412  1438  20 D2 FF           JSR CHROUT
00413  143B  A5 09              LDA $09
00414  143D  20 D2 FF           JSR CHROUT
00415  1440  A5 0A              LDA $0A
00416  1442  20 D2 FF           JSR CHROUT






CROSSREF20......PAGE 0011

LINE# LOC   CODE        LINE


00417  1445  A5 0B              LDA $0B
00418  1447  20 D2 FF           JSR CHROUT
00419  144A  4C BB 14           JMP XX0ABB
00420  144D              ;********************************
00421  144D              ;
00422  144D              ;********************************
00423  144D  38          XX0A4D SEC 
00424  144E  A5 08              LDA $08
00425  1450  E5 16              SBC $16
00426  1452  85 0C              STA $0C
00427  1454  A5 09              LDA $09
00428  1456  E5 17              SBC $17
00429  1458  06 0C              ASL $0C
00430  145A  2A                 ROL A
00431  145B  06 0C              ASL $0C
00432  145D  2A                 ROL A
00433  145E  85 0D              STA $0D
00434  1460  18                 CLC 
00435  1461  A5 0C              LDA $0C
00436  1463  65 04              ADC XRLPNT
00437  1465  85 0C              STA $0C
00438  1467  A5 0D              LDA $0D
00439  1469  65 05              ADC XRLPNT+1
00440  146B  85 0D              STA $0D
00441  146D  A0 01              LDY #$01
00442  146F  B1 0C              LDA ($0C),Y
00443  1471  D0 16              BNE XX0A89
00444  1473  88                 DEY 
00445  1474  A5 06              LDA XRFPNT
00446  1476  91 0C              STA ($0C),Y
00447  1478  C8                 INY 
00448  1479  A5 07              LDA XRFPNT+1
00449  147B  91 0C              STA ($0C),Y
00450  147D  C8                 INY 
00451  147E  A5 06              LDA XRFPNT
00452  1480  91 0C              STA ($0C),Y
00453  1482  C8                 INY 
00454  1483  A5 07              LDA XRFPNT+1
00455  1485  91 0C              STA ($0C),Y
00456  1487  D0 17              BNE XX0AA0
00457  1489  88          XX0A89 DEY 
00458  148A  B1 0C              LDA ($0C),Y
00459  148C  85 0E              STA $0E
00460  148E  C8                 INY 
00461  148F  B1 0C              LDA ($0C),Y
00462  1491  85 0F              STA $0F
00463  1493  A5 07              LDA XRFPNT+1
00464  1495  91 0C              STA ($0C),Y
00465  1497  91 0E              STA ($0E),Y
00466  1499  88                 DEY 
00467  149A  A5 06              LDA XRFPNT
00468  149C  91 0C              STA ($0C),Y
00469  149E  91 0E              STA ($0E),Y
00470  14A0  A0 01       XX0AA0 LDY #$01
00471  14A2  A9 00              LDA #$00






CROSSREF20......PAGE 0012

LINE# LOC   CODE        LINE


00472  14A4  91 06              STA (XRFPNT),Y
00473  14A6  C8                 INY 
00474  14A7  A5 0A              LDA $0A
00475  14A9  91 06              STA (XRFPNT),Y
00476  14AB  C8                 INY 
00477  14AC  A5 0B              LDA $0B
00478  14AE  91 06              STA (XRFPNT),Y
00479  14B0  18                 CLC 
00480  14B1  A5 06              LDA XRFPNT
00481  14B3  69 04              ADC #$04
00482  14B5  85 06              STA XRFPNT
00483  14B7  90 02              BCC XX0ABB
00484  14B9  E6 07              INC XRFPNT+1
00485  14BB  A5 15       XX0ABB LDA $15
00486  14BD  D0 03              BNE XX0AC2
00487  14BF  4C EC 13           JMP XX09EC
00488  14C2              ;********************************
00489  14C2              ;
00490  14C2              ;********************************
00491  14C2  A9 09       XX0AC2 LDA #$09
00492  14C4  20 C3 FF           JSR CLOSE
00493  14C7  A9 0A              LDA #$0A
00494  14C9  20 C3 FF           JSR CLOSE
00495  14CC              ;********************************
00496  14CC              ;
00497  14CC              ;********************************
00498  14CC  A0 01       XX0ACC LDY #$01
00499  14CE  B1 04              LDA (XRLPNT),Y
00500  14D0  A0 03              LDY #$03
00501  14D2  D1 04              CMP (XRLPNT),Y
00502  14D4  D0 0E              BNE XX0AE4
00503  14D6  A0 00              LDY #$00
00504  14D8  B1 04              LDA (XRLPNT),Y
00505  14DA  A0 02              LDY #$02
00506  14DC  D1 04              CMP (XRLPNT),Y
00507  14DE  D0 04              BNE XX0AE4
00508  14E0  A9 2A              LDA #$2A        ;'*'
00509  14E2  D0 02              BNE XX0AE6
00510  14E4  A9 20       XX0AE4 LDA #$20        ;' '
00511  14E6  20 F8 15    XX0AE6 JSR PCHAR
00512  14E9  20 F6 15           JSR XX0BF6
00513  14EC  A0 06              LDY #$06
00514  14EE  20 8C 15    XX0AEE JSR XX0B8C
00515  14F1  20 F8 15           JSR PCHAR
00516  14F4  88                 DEY 
00517  14F5  D0 F7              BNE XX0AEE
00518  14F7  20 F6 15           JSR XX0BF6
00519  14FA  A9 24              LDA #$24        ;'$'
00520  14FC  20 F8 15           JSR PCHAR
00521  14FF  20 8C 15           JSR XX0B8C
00522  1502  20 A9 16           JSR XX0CA9
00523  1505  20 8C 15           JSR XX0B8C
00524  1508  A6 90              LDX $90
00525  150A  86 14              STX $14
00526  150C  20 A9 16           JSR XX0CA9






CROSSREF20......PAGE 0013

LINE# LOC   CODE        LINE


00527  150F  A0 02              LDY #$02
00528  1511  B1 04              LDA (XRLPNT),Y
00529  1513  AA                 TAX 
00530  1514  C8                 INY 
00531  1515  B1 04              LDA (XRLPNT),Y
00532  1517  86 0C              STX $0C
00533  1519  85 0D              STA $0D
00534  151B  D0 2C              BNE XX0B49
00535  151D  20 F6 15    XX0B1D JSR XX0BF6
00536  1520  A0 02              LDY #$02
00537  1522  B1 0C              LDA ($0C),Y
00538  1524  AA                 TAX 
00539  1525  C8                 INY 
00540  1526  B1 0C              LDA ($0C),Y
00541  1528  20 A1 15           JSR XX0BA1
00542  152B  A0 01              LDY #$01
00543  152D  B1 0C              LDA ($0C),Y
00544  152F  AA                 TAX 
00545  1530  F0 1E              BEQ XX0B50
00546  1532  88                 DEY 
00547  1533  B1 0C              LDA ($0C),Y
00548  1535  85 0C              STA $0C
00549  1537  86 0D              STX $0D
00550  1539  CE 54 12           DEC XX0854
00551  153C  D0 DF              BNE XX0B1D
00552  153E  20 D4 16           JSR XX0CD4
00553  1541  A2 07              LDX #$07
00554  1543  20 F3 15    XX0B43 JSR XX0BF3
00555  1546  CA                 DEX 
00556  1547  D0 FA              BNE XX0B43
00557  1549  A0 0A       XX0B49 LDY #$0A
00558  154B  8C 54 12           STY XX0854
00559  154E  D0 CD              BNE XX0B1D
00560  1550  20 D4 16    XX0B50 JSR XX0CD4
00561  1553  A5 14              LDA $14
00562  1555  D0 1F              BNE XX0B76
00563  1557  18                 CLC 
00564  1558  A5 04              LDA XRLPNT
00565  155A  69 04              ADC #$04
00566  155C  85 04              STA XRLPNT
00567  155E  90 02              BCC XX0B62
00568  1560  E6 05              INC XRLPNT+1
00569  1562  38          XX0B62 SEC 
00570  1563  A5 04              LDA XRLPNT
00571  1565  E9 AA              SBC #<XX15AA    ;#$AA
00572  1567  A5 05              LDA XRLPNT+1
00573  1569  E9 1F              SBC #>XX15AA    ;#$15
00574  156B  B0 03              BCS XX0B70
00575  156D  4C CC 14           JMP XX0ACC
00576  1570              ;********************************
00577  1570              ;
00578  1570              ;********************************
00579  1570  20 CC FF    XX0B70 JSR CLRCHN
00580  1573  4C 50 13           JMP XX0950
00581  1576              ;********************************






CROSSREF20......PAGE 0014

LINE# LOC   CODE        LINE


00582  1576              ;
00583  1576              ;********************************
00584  1576  20 C1 16    XX0B76 JSR XX0CC1
00585  1579  20 C1 16           JSR XX0CC1
00586  157C  A9 04              LDA #$04
00587  157E  20 C3 FF           JSR CLOSE
00588  1581  A9 08              LDA #$08
00589  1583  20 C3 FF           JSR CLOSE
00590  1586  20 CC FF           JSR CLRCHN
00591  1589  4C 75 16           JMP XX0C75
00592  158C              ;********************************
00593  158C              ; SET INPUT TO CHANNEL 8 AND READ IN CHAR
00594  158C              ;********************************
00595  158C  A2 08       XX0B8C LDX #$08
00596  158E  EC 2D 12           CPX DEVIN
00597  1591  F0 0B              BEQ XX0B9E
00598  1593  8E 2D 12           STX DEVIN
00599  1596  20 CC FF           JSR CLRCHN
00600  1599  A2 08              LDX #$08
00601  159B  20 C6 FF           JSR CHKIN
00602  159E  4C CF FF    XX0B9E JMP CHRIN
00603  15A1              ;********************************
00604  15A1              ;
00605  15A1              ;********************************
00606  15A1  86 10       XX0BA1 STX $10
00607  15A3  85 11              STA $11
00608  15A5  A9 00              LDA #$00
00609  15A7  8D 55 12           STA XX0855
00610  15AA  A2 04              LDX #$04
00611  15AC  8E 56 12           STX XX0856
00612  15AF  AE 56 12    XX0BAF LDX XX0856
00613  15B2  A0 30              LDY #$30        ;'0'
00614  15B4  D0 04              BNE XX0BBA
00615  15B6  C8          XX0BB6 INY 
00616  15B7  8C 55 12           STY XX0855
00617  15BA  38          XX0BBA SEC 
00618  15BB  A5 10              LDA $10
00619  15BD  FD 73 17           SBC XX0D73,X
00620  15C0  85 10              STA $10
00621  15C2  A5 11              LDA $11
00622  15C4  FD 78 17           SBC XX0D78,X
00623  15C7  85 11              STA $11
00624  15C9  B0 EB              BCS XX0BB6
00625  15CB  A5 10              LDA $10
00626  15CD  7D 73 17           ADC XX0D73,X
00627  15D0  85 10              STA $10
00628  15D2  A5 11              LDA $11
00629  15D4  7D 78 17           ADC XX0D78,X
00630  15D7  85 11              STA $11
00631  15D9  98                 TYA 
00632  15DA  C9 30              CMP #$30        ;'0'
00633  15DC  D0 07              BNE XX0BE5
00634  15DE  AC 55 12           LDY XX0855
00635  15E1  D0 02              BNE XX0BE5
00636  15E3  A9 20              LDA #$20        ;' '






CROSSREF20......PAGE 0015

LINE# LOC   CODE        LINE


00637  15E5  20 F8 15    XX0BE5 JSR PCHAR
00638  15E8  CE 56 12           DEC XX0856
00639  15EB  10 C2              BPL XX0BAF
00640  15ED  60                 RTS 
00641  15EE              ;********************************
00642  15EE              ; OUTPUT CR
00643  15EE              ;********************************
00644  15EE  A9 0D       PRTCR  LDA #$0D
00645  15F0  4C F8 15           JMP PCHAR
00646  15F3              ;********************************
00647  15F3              ;
00648  15F3              ;********************************
00649  15F3  20 F6 15    XX0BF3 JSR XX0BF6
00650  15F6  A9 20       XX0BF6 LDA #$20        ;' '
00651  15F8              ;********************************
00652  15F8              ; OUTPUT CHAR TO SCREEN OR PRINTER
00653  15F8              ;********************************
00654  15F8  86 12       PCHAR  STX $12
00655  15FA  84 13              STY $13
00656  15FC  48                 PHA 
00657  15FD  2C 30 12           BIT PRTFLG
00658  1600  10 1A              BPL XX0C1C
00659  1602  AD 2D 12           LDA DEVIN
00660  1605  C9 04              CMP #$04
00661  1607  F0 0B              BEQ XX0C14
00662  1609  20 CC FF           JSR CLRCHN
00663  160C  A2 04              LDX #$04
00664  160E  8E 2D 12           STX DEVIN
00665  1611  20 C9 FF           JSR CHKOUT
00666  1614  68          XX0C14 PLA 
00667  1615  48                 PHA 
00668  1616  20 D2 FF           JSR CHROUT
00669  1619  4C 1F 16           JMP XX0C1F
00670  161C              ;********************************
00671  161C              ; PRINT CHAR TO SCREEN
00672  161C              ;********************************
00673  161C  20 42 E7    XX0C1C JSR PRTCHR
00674  161F              ;********************************
00675  161F              ; RESTORE A,X AND Y
00676  161F              ;********************************
00677  161F  68          XX0C1F PLA 
00678  1620  A4 13              LDY $13
00679  1622  A6 12              LDX $12
00680  1624  60                 RTS 
00681  1625              ;********************************
00682  1625              ; DISK I/O ERROR
00683  1625              ;********************************
00684  1625  20 CC FF    XX0C25 JSR CLRCHN
00685  1628  A2 07              LDX #$07
00686  162A  8E 2D 12           STX DEVIN
00687  162D  20 C6 FF           JSR CHKIN
00688  1630  20 CF FF           JSR CHRIN
00689  1633  85 02              STA $02
00690  1635  20 CF FF           JSR CHRIN
00691  1638  85 03              STA $03






CROSSREF20......PAGE 0016

LINE# LOC   CODE        LINE


00692  163A  C9 30              CMP #$30        ;'0'
00693  163C  D0 0E              BNE XX0C4C
00694  163E  A5 02              LDA $02
00695  1640  C9 30              CMP #$30        ;'0'
00696  1642  D0 08              BNE XX0C4C
00697  1644  20 CF FF    XX0C44 JSR CHRIN
00698  1647  C9 0D              CMP #$0D
00699  1649  D0 F9              BNE XX0C44
00700  164B  60                 RTS 
00701  164C              ;********************************
00702  164C              ; PRINT DISK ERROR
00703  164C              ;********************************
00704  164C  A2 01       XX0C4C LDX #$01
00705  164E  B5 02       XX0C4E LDA $02,X
00706  1650  9D 57 12           STA XX0857,X
00707  1653  CA                 DEX 
00708  1654  10 F8              BPL XX0C4E
00709  1656  A0 02              LDY #$02
00710  1658  84 13       XX0C58 STY $13
00711  165A  20 CF FF           JSR CHRIN
00712  165D  C9 0D              CMP #$0D
00713  165F  F0 08              BEQ XX0C69
00714  1661  A4 13              LDY $13
00715  1663  99 57 12           STA XX0857,Y
00716  1666  C8                 INY 
00717  1667  D0 EF              BNE XX0C58
00718  1669  A9 8D       XX0C69 LDA #$8D
00719  166B  99 57 12           STA XX0857,Y
00720  166E  A9 12              LDA #>XX0857    ;#$08
00721  1670  A0 57              LDY #<XX0857    ;#$57      ;'W'
00722  1672  20 7E 16           JSR XX0C7E
00723  1675  20 8B 17    XX0C75 JSR SCRON
00724  1678  20 9F 17           JSR RETZPG
00725  167B  4C 74 C4           JMP BASSFT
00726  167E              ;********************************
00727  167E              ;
00728  167E              ;********************************
00729  167E  48          XX0C7E PHA 
00730  167F  A9 01              LDA #$01
00731  1681  CD 2D 12           CMP DEVIN
00732  1684  F0 0F              BEQ XX0C95
00733  1686  98                 TYA 
00734  1687  48                 PHA 
00735  1688  20 CC FF           JSR CLRCHN
00736  168B  A2 01              LDX #$01
00737  168D  8E 2D 12           STX DEVIN
00738  1690  20 C9 FF           JSR CHKOUT
00739  1693  68                 PLA 
00740  1694  A8                 TAY 
00741  1695              ;********************************
00742  1695              ; OUTPUT STRING
00743  1695              ; HIGH BYTE ADDRESS IN A
00744  1695              ; LOW BYTE ADDRESS IN Y
00745  1695              ;********************************
00746  1695  68          XX0C95 PLA 






CROSSREF20......PAGE 0017

LINE# LOC   CODE        LINE


00747  1696  85 11              STA $11
00748  1698  84 10              STY $10
00749  169A  A0 00              LDY #$00
00750  169C  B1 10       XX0C9C LDA ($10),Y
00751  169E  C8                 INY 
00752  169F  48                 PHA 
00753  16A0  29 7F              AND #$7F
00754  16A2  20 D2 FF           JSR CHROUT
00755  16A5  68                 PLA 
00756  16A6  10 F4              BPL XX0C9C
00757  16A8  60                 RTS 
00758  16A9              ;********************************
00759  16A9              ;
00760  16A9              ;********************************
00761  16A9  48          XX0CA9 PHA 
00762  16AA  4A                 LSR A
00763  16AB  4A                 LSR A
00764  16AC  4A                 LSR A
00765  16AD  4A                 LSR A
00766  16AE  20 B4 16           JSR XX0CB4
00767  16B1  68                 PLA 
00768  16B2  29 0F              AND #$0F
00769  16B4  18          XX0CB4 CLC 
00770  16B5  69 30              ADC #$30        ;'0'
00771  16B7  C9 3A              CMP #$3A        ;':'
00772  16B9  30 03              BMI XX0CBE
00773  16BB  18                 CLC 
00774  16BC  69 07              ADC #$07
00775  16BE  4C F8 15    XX0CBE JMP PCHAR
00776  16C1              ;********************************
00777  16C1              ;
00778  16C1              ;********************************
00779  16C1  20 EE 15    XX0CC1 JSR PRTCR
00780  16C4  EE 33 12           INC XX0833
00781  16C7  AD 33 12           LDA XX0833
00782  16CA  C9 42              CMP #$42        ;'B'
00783  16CC  D0 F3              BNE XX0CC1
00784  16CE  A9 00              LDA #$00
00785  16D0  8D 33 12           STA XX0833
00786  16D3  60                 RTS 
00787  16D4              ;********************************
00788  16D4              ;
00789  16D4              ;********************************
00790  16D4  20 EE 15    XX0CD4 JSR PRTCR
00791  16D7  EE 33 12           INC XX0833
00792  16DA  AD 33 12           LDA XX0833
00793  16DD  C9 3C              CMP #$3C        ;'<'
00794  16DF  D0 31              BNE XX0D12
00795  16E1  20 C1 16           JSR XX0CC1
00796  16E4  20 D4 16    XX0CE4 JSR XX0CD4
00797  16E7  8A                 TXA 
00798  16E8  48                 PHA 
00799  16E9              ;********************************
00800  16E9              ; PRINT PAGE BANNER
00801  16E9              ;********************************






CROSSREF20......PAGE 0018

LINE# LOC   CODE        LINE


00802  16E9  A2 00              LDX #$00
00803  16EB  BD 59 17    XX0CEB LDA BANNER,X
00804  16EE  F0 06              BEQ XX0CF6      ; ZERO BYTE END OF STRING
00805  16F0  20 F8 15           JSR PCHAR
00806  16F3  E8                 INX             ; INC CHAR POINTER
00807  16F4  D0 F5              BNE XX0CEB
00808  16F6              ;
00809  16F6  AE 31 12    XX0CF6 LDX XX0831
00810  16F9  AD 32 12           LDA XX0832
00811  16FC  20 A1 15           JSR XX0BA1
00812  16FF  EE 31 12           INC XX0831
00813  1702  D0 03              BNE XX0D07
00814  1704  EE 32 12           INC XX0832
00815  1707  20 D4 16    XX0D07 JSR XX0CD4
00816  170A  20 D4 16           JSR XX0CD4
00817  170D  20 D4 16           JSR XX0CD4
00818  1710  68                 PLA 
00819  1711  AA                 TAX 
00820  1712  60          XX0D12 RTS 
00821  1713              ;********************************
00822  1713              ;
00823  1713              ;********************************
00824  1713              ;XX0D13
00825  1713  0D          MESSG  .BYTE $0D
00826  1714  43 52       XX0D14 .BYTE 'CROSS REFERENCE'
00827  1723  0D          XX0D23 .BYTE $0D
00828  1724  0D          XX0D24 .BYTE $0D
00829  1725  0D          XX0D25 .BYTE $0D
00830  1726  48 41       XX0D26 .BYTE 'HARD COPY (CR/Y OR N)?'
00831  173C              ;********************************
00832  173C              ;
00833  173C              ;********************************
00834  173C  A0          XX0D3C .BYTE $A0
00835  173D              ;********************************
00836  173D              ; CROSSREF FILE MASTER NAME
00837  173D              ;********************************
00838  173D  30 3A       XRLL00 .BYTE '0:XRLL0000,S,R' ;XX0D3D
00839  174B              ;********************************
00840  174B              ; CROSSREF FILE MASTER NAME
00841  174B              ;********************************
00842  174B  30 3A       XRFF00 .BYTE '0:XRFF0000,S,W' ;XX0D4B
00843  1759              ;********************************
00844  1759              ;
00845  1759              ;********************************
00846  1759  43 52       BANNER .BYTE 'CROSS REFERENCE......PAGE'
00847  1772  00                 .BYTE $00
00848  1773              ;********************************
00849  1773              ; LOW BYTE 10'S DIGIT
00850  1773              ; $0001 = 1
00851  1773              ; $000A = 10
00852  1773              ; $0064 = 100
00853  1773              ; $03E8 = 1000
00854  1773              ; $2710 = 10000
00855  1773              ;********************************
00856  1773  01          XX0D73 .BYTE $01       ;1






CROSSREF20......PAGE 0019

LINE# LOC   CODE        LINE


00857  1774  0A                 .BYTE $0A       ;10
00858  1775  64                 .BYTE $64       ;100
00859  1776  E8                 .BYTE $E8       ;1000
00860  1777  10                 .BYTE $10       ;10000
00861  1778              ;********************************
00862  1778              ; HIGH BYTE 10'S DIGIT
00863  1778              ;********************************
00864  1778  00          XX0D78 .BYTE $00       ;1
00865  1779  00                 .BYTE $00       ;10
00866  177A  00                 .BYTE $00       ;100
00867  177B  03                 .BYTE $03       ;1000
00868  177C  27                 .BYTE $27       ;10000
00869  177D              ;********************************
00870  177D              ; IF PRINTING, TURN SCREEN OFF
00871  177D              ;********************************
00872  177D  AD 30 12    SCROFF LDA PRTFLG
00873  1780  10 08              BPL XX0D8A
00874  1782  AD 0F 90           LDA SCREG
00875  1785  29 EF              AND #$EF
00876  1787  8D 0F 90           STA SCREG
00877  178A  60          XX0D8A RTS 
00878  178B              ;********************************
00879  178B              ; TURN SCREEN ON
00880  178B              ;********************************
00881  178B  AD 0F 90    SCRON  LDA SCREG
00882  178E  09 10              ORA #$10
00883  1790  8D 0F 90           STA SCREG
00884  1793  60                 RTS 
00885  1794              ;********************************
00886  1794              ; SAVE ZEROPAGE FROM $02-$1A
00887  1794              ;********************************
00888  1794  A2 18       SAVZPG LDX #$18
00889  1796  B5 02       XX0D96 LDA $02,X
00890  1798  9D 15 12           STA ZPGSTR,X
00891  179B  CA                 DEX 
00892  179C  10 F8              BPL XX0D96
00893  179E  60                 RTS 
00894  179F              ;********************************
00895  179F              ; RESTORE ZEROPAGE FROM $02-$1A
00896  179F              ;********************************
00897  179F  A2 18       RETZPG LDX #$18
00898  17A1  BD 15 12    XX0DA1 LDA ZPGSTR,X
00899  17A4  95 02              STA $02,X
00900  17A6  CA                 DEX 
00901  17A7  10 F8              BPL XX0DA1
00902  17A9  60                 RTS 
00903  17AA              ;********************************
00904  17AA              ;
00905  17AA              ;********************************
00906  17AA              XX0DAA=*
00907  17AA              ;********************************
00908  17AA              ;
00909  17AA              ;********************************
00910  17AA              *=*+$0800
00911  1FAA              ;********************************






CROSSREF20......PAGE 0020

LINE# LOC   CODE        LINE


00912  1FAA              ;
00913  1FAA              ;********************************
00914  1FAA              XX15AA=*
00915  1FAA              ;********************************
00916  1FAA              .END



ERRORS = 00000
LY
 ADRAY1   0003    ADRAY2   0005    BANNER   1759    BASIC    120D
 BASSFT   C474    CHANNL   0013    CHARAC   0007    CHKIN    FFC6
 CHKOUT   FFC9    CHRIN    FFCF    CHROUT   FFD2    CLOSE    FFC3
 CLRCHN   FFCC    COUNT    000B    DEVIN    122D    DIMFLG   000C
 ENDCHR   0008    GARBFL   000F    INPFLG   0011    INTFLG   000E
 LASTPT   0017    LINNUM   0014    MESSG    1713    OPEN     FFC0
 PCHAR    15F8    PRTCHR   E742    PRTCR    15EE    PRTFLG   1230
 RETZPG   179F    SAVZPG   1794    SCREG    900F    SCROFF   177D
 SCRON    178B    SETLFS   FFBA    SETNAM   FFBD    SUBFLG   0010
 TANSGN   0012    TEMPPT   0016    TEMPST   0019    TRMPOS   0009
 VALTYP   000D    VERCK    000A    XRFF00   174B    XRFFNM   1244
 XRFPNT   0006    XRLL00   173D    XRLPNT   0004    XX082E   122E
 XX082F   122F    XX0831   1231    XX0832   1232    XX0833   1233
 XX0834   1234    XX0841   1241    XX0849   1249    XX0854   1254
 XX0855   1255    XX0856   1256    XX0857   1257    XX0858   1258
 XX0889   1289    XX08E3   12E3    XX0929   1329    XX0950   1350
 XX0981   1381    XX098A   138A    XX0998   1398    XX09A8   13A8
 XX09BA   13BA    XX09EC   13EC    XX09FE   13FE    XX0A2B   142B
 XX0A4D   144D    XX0A89   1489    XX0AA0   14A0    XX0ABB   14BB
 XX0AC2   14C2    XX0ACC   14CC    XX0AE4   14E4    XX0AE6   14E6
 XX0AEE   14EE    XX0B1D   151D    XX0B43   1543    XX0B49   1549
 XX0B50   1550    XX0B62   1562    XX0B70   1570    XX0B76   1576
 XX0B8C   158C    XX0B9E   159E    XX0BA1   15A1    XX0BAF   15AF
 XX0BB6   15B6    XX0BBA   15BA    XX0BE5   15E5    XX0BF3   15F3
 XX0BF6   15F6    XX0C14   1614    XX0C1C   161C    XX0C1F   161F
 XX0C25   1625    XX0C44   1644    XX0C4C   164C    XX0C4E   164E
 XX0C58   1658    XX0C69   1669    XX0C75   1675    XX0C7E   167E
 XX0C95   1695    XX0C9C   169C    XX0CA9   16A9    XX0CB4   16B4
 XX0CBE   16BE    XX0CC1   16C1    XX0CD4   16D4    XX0CE4   16E4
 XX0CEB   16EB    XX0CF6   16F6    XX0D07   1707    XX0D12   1712
 XX0D14   1714    XX0D23   1723    XX0D24   1724    XX0D25   1725
 XX0D26   1726    XX0D3C   173C    XX0D73   1773    XX0D78   1778
 XX0D8A   178A    XX0D96   1796    XX0DA1   17A1    XX0DAA   17AA
 XX15AA   1FAA    XXREF    120F    ZPGSTR   1215   


BCROSSREFNL.ASM......PAGE 0001

LINE# LOC   CODE        LINE































































CROSSREF20......PAGE 0002

LINE# LOC   CODE        LINE


00032  120F              .FIL   CROSSREF.ASM

ERRORS = 00000
LY
 ADRAY1   0003    ADRAY2   0005    BANNER   1759    BASIC    120D
 BASSFT   C474    CHANNL   0013    CHARAC   0007    CHKIN    FFC6
 CHKOUT   FFC9    CHRIN    FFCF    CHROUT   FFD2    CLOSE    FFC3
 CLRCHN   FFCC    COUNT    000B    DEVIN    122D    DIMFLG   000C
 ENDCHR   0008    GARBFL   000F    INPFLG   0011    INTFLG   000E
 LASTPT   0017    LINNUM   0014    MESSG    1713    OPEN     FFC0
 PCHAR    15F8    PRTCHR   E742    PRTCR    15EE    PRTFLG   1230
 RETZPG   179F    SAVZPG   1794    SCREG    900F    SCROFF   177D
 SCRON    178B    SETLFS   FFBA    SETNAM   FFBD    SUBFLG   0010
 TANSGN   0012    TEMPPT   0016    TEMPST   0019    TRMPOS   0009
 VALTYP   000D    VERCK    000A    XRFF00   174B    XRFFNM   1244
 XRFPNT   0006    XRLL00   173D    XRLPNT   0004    XX082E   122E
 XX082F   122F    XX0831   1231    XX0832   1232    XX0833   1233
 XX0834   1234    XX0841   1241    XX0849   1249    XX0854   1254
 XX0855   1255    XX0856   1256    XX0857   1257    XX0858   1258
 XX0889   1289    XX08E3   12E3    XX0929   1329    XX0950   1350
 XX0981   1381    XX098A   138A    XX0998   1398    XX09A8   13A8
 XX09BA   13BA    XX09EC   13EC    XX09FE   13FE    XX0A2B   142B
 XX0A4D   144D    XX0A89   1489    XX0AA0   14A0    XX0ABB   14BB
 XX0AC2   14C2    XX0ACC   14CC    XX0AE4   14E4    XX0AE6   14E6
 XX0AEE   14EE    XX0B1D   151D    XX0B43   1543    XX0B49   1549
 XX0B50   1550    XX0B62   1562    XX0B70   1570    XX0B76   1576
 XX0B8C   158C    XX0B9E   159E    XX0BA1   15A1    XX0BAF   15AF
 XX0BB6   15B6    XX0BBA   15BA    XX0BE5   15E5    XX0BF3   15F3
 XX0BF6   15F6    XX0C14   1614    XX0C1C   161C    XX0C1F   161F
 XX0C25   1625    XX0C44   1644    XX0C4C   164C    XX0C4E   164E
 XX0C58   1658    XX0C69   1669    XX0C75   1675    XX0C7E   167E
 XX0C95   1695    XX0C9C   169C    XX0CA9   16A9    XX0CB4   16B4
 XX0CBE   16BE    XX0CC1   16C1    XX0CD4   16D4    XX0CE4   16E4
 XX0CEB   16EB    XX0CF6   16F6    XX0D07   1707    XX0D12   1712
 XX0D14   1714    XX0D23   1723    XX0D24   1724    XX0D25   1725
 XX0D26   1726    XX0D3C   173C    XX0D73   1773    XX0D78   1778
 XX0D8A   178A    XX0D96   1796    XX0DA1   17A1    XX0DAA   17AA
 XX15AA   1FAA    XXREF    120F    ZPGSTR   1215   



CROSS REFERENCE......PAGE    1


* ADRAY1 $0003    45
* ADRAY2 $0005    46
  BANNER $1759   803   846
  BASIC  $120D    21    26
  BASSFT $C474    76   725
* CHANNL $0013    59
* CHARAC $0007    47
  CHKIN  $FFC6    85   200   381   601   687
  CHKOUT $FFC9    86   409   665   738
  CHRIN  $FFCF    88   210   383   385   387   389   602   688   690   697

                 711
  CHROUT $FFD2    89   194   235   412   414   416   418   668   754
  CLOSE  $FFC3    84   492   494   587   589
  CLRCHN $FFCC    87   278   378   406   579   590   599   662   684   735

* COUNT  $000B    51
  DEVIN  $122D   107   167   199   375   377   408   596   598   659   664

                 686   731   737
* DIMFLG $000C    52
* ENDCHR $0008    48
* GARBFL $000F    55
* INPFLG $0011    57
* INTFLG $000E    54
* LASTPT $0017    62
* LINNUM $0014    60
  MESSG  $1713   204   205   825
  OPEN   $FFC0    83   179   189   229   256   290   358   369
  PCHAR  $15F8   511   515   520   637   645   654   775   805
  PRTCHR $E742    77   673
  PRTCR  $15EE   644   779   790
  PRTFLG $1230   110   212   219   657   872
  RETZPG $179F   724   897
  SAVZPG $1794    95   888
  SCREG  $900F    72   874   876   881   883
  SCROFF $177D   233   872
  SCRON  $178B   723   881
  SETLFS $FFBA    81   176   186   226   242   285   353   364
  SETNAM $FFBD    82   178   188   228   254   289   357   368
* SUBFLG $0010    56
* TANSGN $0012    58
* TEMPPT $0016    61
* TEMPST $0019    63
* TRMPOS $0009    49
* VALTYP $000D    53
* VERCK  $000A    50
  XRFF00 $174B   269   842
  XRFFNM $1244   129   270   334   365   366
  XRFPNT $0006    68   314   315   328   331   445   448   451   454   463

                 467   472   475   478   480   482   484
  XRLL00 $173D   286   287   838
  XRLPNT $0004    67   309   310   317   318   436   439   499   501   504

                 506   528   531   564   566   568   570   572
  XX082E $122E   108   262   301
  XX082F $122F   109   263   304
  XX0831 $1231   111   164   166   809   812
  XX0832 $1232   112   165   810   814
  XX0833 $1233   116   163   780   781   785   791   792







CROSS REFERENCE......PAGE    2


  XX0834 $1234   117   335   354   355
  XX0841 $1241   124   339
  XX0849 $1249   134   341   342   346
  XX0854 $1254   140   550   558
  XX0855 $1255   141   609   616   634
  XX0856 $1256   142   611   612   638
  XX0857 $1257   143   247   251   252   706   715   719   720   721
  XX0858 $1258   147   249
  XX0889 $1289    96   161
  XX08E3 $12E3   214   219
  XX0929 $1329   269   273
  XX0950 $1350   295   580
  XX0981 $1381   322   329   332
  XX098A $138A   325   327
  XX0998 $1398   334   337
  XX09A8 $13A8   341   348
  XX09BA $13BA   344   350
  XX09EC $13EC   374   487
  XX09FE $13FE   376   383
  XX0A2B $142B   399   406
  XX0A4D $144D   404   423
  XX0A89 $1489   443   457
  XX0AA0 $14A0   456   470
  XX0ABB $14BB   419   483   485
  XX0AC2 $14C2   486   491
  XX0ACC $14CC   498   575
  XX0AE4 $14E4   502   507   510
  XX0AE6 $14E6   509   511
  XX0AEE $14EE   514   517
  XX0B1D $151D   535   551   559
  XX0B43 $1543   554   556
  XX0B49 $1549   534   557
  XX0B50 $1550   545   560
  XX0B62 $1562   567   569
  XX0B70 $1570   574   579
  XX0B76 $1576   562   584
  XX0B8C $158C   514   521   523   595
  XX0B9E $159E   597   602
  XX0BA1 $15A1   541   606   811
  XX0BAF $15AF   612   639
  XX0BB6 $15B6   615   624
  XX0BBA $15BA   614   617
  XX0BE5 $15E5   633   635   637
  XX0BF3 $15F3   554   649
  XX0BF6 $15F6   512   518   535   649   650
  XX0C14 $1614   661   666
  XX0C1C $161C   658   673
  XX0C1F $161F   669   677
  XX0C25 $1625   294   359   370   684
  XX0C44 $1644   697   699
  XX0C4C $164C   693   696   704
  XX0C4E $164E   705   708
  XX0C58 $1658   710   717
  XX0C69 $1669   713   718
  XX0C75 $1675   591   723
  XX0C7E $167E   206   722   729







CROSS REFERENCE......PAGE    3


  XX0C95 $1695   732   746
  XX0C9C $169C   750   756
  XX0CA9 $16A9   522   526   761
  XX0CB4 $16B4   766   769
  XX0CBE $16BE   772   775
  XX0CC1 $16C1   584   585   779   783   795
  XX0CD4 $16D4   552   560   790   796   815   816   817
  XX0CE4 $16E4   274   796
  XX0CEB $16EB   803   807
  XX0CF6 $16F6   804   809
  XX0D07 $1707   813   815
  XX0D12 $1712   794   820
* XX0D14 $1714   826
* XX0D23 $1723   827
* XX0D24 $1724   828
* XX0D25 $1725   829
* XX0D26 $1726   830
* XX0D3C $173C   834
  XX0D73 $1773   619   626   856
  XX0D78 $1778   622   629   864
  XX0D8A $178A   873   877
  XX0D96 $1796   889   892
  XX0DA1 $17A1   898   901
  XX0DAA $17AA   307   308   906
  XX15AA $1FAA   312   313   571   573   914
* XXREF  $120F    95
  ZPGSTR $1215   100   890   898





































































































